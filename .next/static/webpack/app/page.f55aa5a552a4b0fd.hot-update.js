"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/Toolbar.tsx":
/*!************************************!*\
  !*** ./src/components/Toolbar.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toolbar: function() { return /* binding */ Toolbar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/DashboardContext */ \"(app-pages-browser)/./src/components/DashboardContext.tsx\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/storage */ \"(app-pages-browser)/./src/lib/storage.ts\");\n/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/Select */ \"(app-pages-browser)/./src/components/Select.tsx\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _components_Toast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/Toast */ \"(app-pages-browser)/./src/components/Toast.tsx\");\n/* harmony import */ var _components_Dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Dialog */ \"(app-pages-browser)/./src/components/Dialog.tsx\");\n/* harmony import */ var _lib_auth_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/auth-util */ \"(app-pages-browser)/./src/lib/auth-util.ts\");\n/* __next_internal_client_entry_do_not_use__ Toolbar auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction Toolbar() {\n    _s();\n    const { state, setTheme, setColumns, setTileStyle, setSearch, setEditMode, setViewMode, importState, setPersistKey } = (0,_components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__.useDashboard)();\n    const filters = state.filters || {};\n    const fileRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [me, setMe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [scope, setScope] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [moreOpen, setMoreOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newProfileOpen, setNewProfileOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newProfile, setNewProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [shareOpen, setShareOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [canNativeShare, setCanNativeShare] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [recent, setRecent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [labels, setLabels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [admin, setAdmin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { showToast } = (0,_components_Toast__WEBPACK_IMPORTED_MODULE_6__.useToast)();\n    const { confirm } = (0,_components_Dialog__WEBPACK_IMPORTED_MODULE_7__.useDialog)();\n    const shareAnchorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sharePanelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const shareInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const res = await fetch(\"/api/me\", {\n                    cache: \"no-store\"\n                });\n                if (res.ok) {\n                    const data = await res.json();\n                    setMe(data);\n                    const stored = localStorage.getItem(\"persist_scope\");\n                    const defaultKey = (data === null || data === void 0 ? void 0 : data.sub) ? \"user:\".concat(data.sub) : \"default\";\n                    const key = stored || defaultKey;\n                    setScope(key);\n                    setPersistKey(key);\n                }\n            } catch (e) {}\n            try {\n                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                setRecent(raw ? JSON.parse(raw) : []);\n                const labelsRaw = localStorage.getItem(\"persist_profile_labels\");\n                if (labelsRaw) setLabels(JSON.parse(labelsRaw));\n            } catch (e) {}\n        })();\n    }, [\n        setPersistKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const raw = localStorage.getItem(\"persist_profiles_recent\");\n            setRecent(raw ? JSON.parse(raw) : []);\n        } catch (e) {}\n    }, [\n        scope\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (typeof navigator !== \"undefined\") {\n            setCanNativeShare(typeof navigator.share === \"function\");\n        }\n    }, []);\n    // Resolve human labels for foreign user:* profiles via API\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const raw =  true ? window.localStorage.getItem(\"persist_profiles_recent\") : 0;\n                const arr = raw ? JSON.parse(raw) : [];\n                const keys = new Set([\n                    scope,\n                    ...arr\n                ]);\n                const userKeyForMe = (me === null || me === void 0 ? void 0 : me.sub) ? \"user:\".concat(me.sub) : null;\n                const toResolve = Array.from(keys).filter((k)=>(k === null || k === void 0 ? void 0 : k.startsWith(\"user:\")) && k !== userKeyForMe && !labels[k]);\n                if (toResolve.length === 0) return;\n                const results = await Promise.all(toResolve.map(async (k)=>{\n                    try {\n                        const r = await fetch(\"/api/profile/label?key=\".concat(encodeURIComponent(k)), {\n                            cache: \"no-store\"\n                        });\n                        if (!r.ok) return [\n                            k,\n                            undefined\n                        ];\n                        const { label } = await r.json();\n                        return [\n                            k,\n                            label\n                        ];\n                    } catch (e) {\n                        return [\n                            k,\n                            undefined\n                        ];\n                    }\n                }));\n                const map = {\n                    ...labels\n                };\n                results.forEach((param)=>{\n                    let [k, v] = param;\n                    if (v) map[k] = v;\n                });\n                setLabels(map);\n                try {\n                    localStorage.setItem(\"persist_profile_labels\", JSON.stringify(map));\n                } catch (e) {}\n            } catch (e) {}\n        })();\n    }, [\n        me,\n        scope,\n        labels\n    ]);\n    const scopeOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const opts = [];\n        const seen = new Set();\n        const push = (v, l)=>{\n            if (!seen.has(v)) {\n                opts.push({\n                    value: v,\n                    label: l\n                });\n                seen.add(v);\n            }\n        };\n        // Personal del usuario actual\n        if (me === null || me === void 0 ? void 0 : me.sub) push(\"user:\".concat(me.sub), \"Personal\");\n        // Grupos normalizados (sin prefijo \"/\")\n        ((me === null || me === void 0 ? void 0 : me.groups) || []).forEach((g)=>{\n            const name = typeof g === \"string\" ? g.replace(/^\\//, \"\") : String(g);\n            push(\"group:\".concat(name), \"Grupo: \".concat(name));\n        });\n        // Perfiles recientes: evitar duplicados y descartar user:* de otros usuarios\n        try {\n            const raw =  true ? window.localStorage.getItem(\"persist_profiles_recent\") : 0;\n            const arr = raw ? JSON.parse(raw) : [];\n            const currentUserKey = (me === null || me === void 0 ? void 0 : me.sub) ? \"user:\".concat(me.sub) : null;\n            arr.forEach((k)=>{\n                if (!k) return;\n                // Do not show other users' personal keys as 'Personal'\n                if (k.startsWith(\"user:\") && k !== currentUserKey) {\n                    const friendly = labels[k] ? \"Usuario: \".concat(labels[k]) : \"Usuario: \".concat(k.slice(5, 13));\n                    push(k, friendly);\n                    return;\n                }\n                let label = k;\n                if (k.startsWith(\"group:\")) label = \"Grupo: \".concat(k.slice(6));\n                else if (k.startsWith(\"user:\")) label = \"Personal\";\n                push(k, label);\n            });\n        } catch (e) {}\n        if (opts.length === 0) push(\"default\", \"Sin sesi\\xf3n\");\n        if (scope && !seen.has(scope)) opts.unshift({\n            value: scope,\n            label: scope\n        });\n        return opts;\n    }, [\n        me,\n        scope,\n        labels\n    ]);\n    const isAdmin = admin;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!(me === null || me === void 0 ? void 0 : me.authenticated)) {\n            setAdmin(false);\n            return;\n        }\n        // First, decide via token groups if present\n        const tokenAdmin = (0,_lib_auth_util__WEBPACK_IMPORTED_MODULE_8__.isAdminGroup)(me.groups);\n        setAdmin(tokenAdmin);\n        // Fallback probe: if not detected, try calling an admin API; 200 => admin\n        if (!tokenAdmin) {\n            fetch(\"/api/admin/keys\", {\n                cache: \"no-store\"\n            }).then((r)=>{\n                if (r.ok) setAdmin(true);\n            }).catch(()=>{});\n        }\n    }, [\n        me\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"toolbar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"search\",\n                className: \"search\",\n                placeholder: \"Buscar...\",\n                value: state.search,\n                onChange: (e)=>setSearch(e.target.value)\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 151,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar-chip\",\n                role: \"group\",\n                \"aria-label\": \"Disposici\\xf3n\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"btn primary-btn \".concat(state.editMode ? \"btn-on\" : \"btn-off\"),\n                        onClick: ()=>setEditMode(!state.editMode),\n                        title: state.editMode ? \"Desactivar edici\\xf3n\" : \"Activar edici\\xf3n\",\n                        children: state.editMode ? \"Salir edici\\xf3n\" : \"Editar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 162,\n                        columnNumber: 9\n                    }, this),\n                    state.editMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"label-text\",\n                                        children: \"Columnas\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 176,\n                                        columnNumber: 15\n                                    }, this),\n                                    (()=>{\n                                        const pct = (state.columns - 2) / (6 - 2) * 100;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: 2,\n                                            max: 6,\n                                            value: state.columns,\n                                            onChange: (e)=>setColumns(parseInt(e.target.value)),\n                                            style: {\n                                                [\"--range-pct\"]: \"\".concat(pct, \"%\")\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 180,\n                                            columnNumber: 19\n                                        }, this);\n                                    })(),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: state.columns\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"control\",\n                                role: \"group\",\n                                \"aria-label\": \"Vista\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                    value: state.viewMode,\n                                    onValueChange: (v)=>setViewMode(v),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"grouped\",\n                                            children: \"Agrupado\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 196,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"all\",\n                                            children: \"Todos\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 197,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"list\",\n                                            children: \"Lista\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 198,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 195,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"label-text\",\n                                        children: \"Favoritos\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 204,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: !!filters.favoritesOnly,\n                                        onChange: (e)=>{\n                                            importState({\n                                                ...state,\n                                                filters: {\n                                                    ...filters,\n                                                    favoritesOnly: e.target.checked\n                                                }\n                                            });\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 205,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 203,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 160,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar-chip profile-chip\",\n                role: \"group\",\n                \"aria-label\": \"Perfil\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"control\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"label-text\",\n                                children: \"Perfil\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 224,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                value: scope,\n                                onValueChange: (v)=>{\n                                    setScope(v);\n                                    setPersistKey(v);\n                                },\n                                displayLabel: (()=>{\n                                    if (!scope) return \"\";\n                                    if ((me === null || me === void 0 ? void 0 : me.sub) && scope === \"user:\".concat(me.sub)) return \"Personal\";\n                                    if (scope.startsWith(\"group:\")) return \"Grupo: \".concat(scope.slice(6));\n                                    if (scope.startsWith(\"user:\")) {\n                                        const name = labels[scope];\n                                        return name ? \"Usuario: \".concat(name) : \"Usuario: \".concat(scope.slice(5, 13));\n                                    }\n                                    return scope;\n                                })(),\n                                children: scopeOptions.map((o)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: o.value,\n                                        children: o.label\n                                    }, o.value, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 236,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 223,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"user-chip\",\n                        title: (me === null || me === void 0 ? void 0 : me.email) || (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.sub) || \"\",\n                        \"aria-label\": \"Usuario actual\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: .9\n                                },\n                                children: \"\\uD83D\\uDC64\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 241,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.email) || ((me === null || me === void 0 ? void 0 : me.sub) ? me.sub : \"Invitado\")\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"btn-group icon-shelf\",\n                        role: \"group\",\n                        \"aria-label\": \"Acciones de perfil\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Nuevo perfil\",\n                                title: \"Nuevo perfil\",\n                                onClick: ()=>{\n                                    setNewProfile(\"\");\n                                    setNewProfileOpen((o)=>!o);\n                                },\n                                children: \"➕\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 245,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Guardar perfil\",\n                                title: \"Guardar ahora\",\n                                onClick: async ()=>{\n                                    try {\n                                        await fetch(\"/api/state?key=\".concat(encodeURIComponent(scope)), {\n                                            method: \"PUT\",\n                                            headers: {\n                                                \"content-type\": \"application/json\"\n                                            },\n                                            body: JSON.stringify(state)\n                                        });\n                                        showToast(\"Perfil guardado\", \"success\");\n                                    } catch (e) {\n                                        showToast(\"Error al guardar\", \"error\");\n                                    }\n                                },\n                                children: \"\\uD83D\\uDCBE\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 246,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Compartir perfil\",\n                                title: \"Compartir enlace\",\n                                onClick: async ()=>{\n                                    try {\n                                        const url = new URL(window.location.href);\n                                        url.searchParams.set(\"profile\", scope);\n                                        await navigator.clipboard.writeText(url.toString());\n                                        setCopied(true);\n                                        showToast(\"Enlace copiado\", \"success\");\n                                        setTimeout(()=>setCopied(false), 1500);\n                                    } catch (e) {\n                                        showToast(\"No se pudo copiar\", \"error\");\n                                    }\n                                },\n                                children: copied ? \"✓\" : \"\\uD83D\\uDD17\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 247,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Exportar perfil\",\n                                title: \"Exportar perfil\",\n                                onClick: ()=>{\n                                    (0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.downloadJSON)(\"dashboard.json\", state);\n                                    showToast(\"Exportado\", \"success\");\n                                },\n                                children: \"⤓\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 248,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Importar perfil\",\n                                title: \"Importar perfil\",\n                                onClick: ()=>{\n                                    var _fileRef_current;\n                                    return (_fileRef_current = fileRef.current) === null || _fileRef_current === void 0 ? void 0 : _fileRef_current.click();\n                                },\n                                children: \"⤴\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Eliminar perfil\",\n                                title: \"Eliminar perfil\",\n                                onClick: async ()=>{\n                                    if (!scope || scope === \"default\") return;\n                                    const human = (()=>{\n                                        if ((me === null || me === void 0 ? void 0 : me.sub) && scope === \"user:\".concat(me.sub)) return \"tu perfil Personal\";\n                                        if (scope.startsWith(\"group:\")) return \"perfil de Grupo: \".concat(scope.slice(6));\n                                        if (scope.startsWith(\"user:\")) return \"perfil de Usuario: \".concat(labels[scope] || scope.slice(5, 13));\n                                        return scope;\n                                    })();\n                                    const ok = await confirm({\n                                        title: \"Eliminar perfil\",\n                                        message: \"\\xbfEliminar \".concat(human, \"?\")\n                                    });\n                                    if (!ok) return;\n                                    try {\n                                        const res = await fetch(\"/api/state?key=\".concat(encodeURIComponent(scope)), {\n                                            method: \"DELETE\"\n                                        });\n                                        if (res.ok) {\n                                            try {\n                                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                                const arr = raw ? JSON.parse(raw) : [];\n                                                const next = arr.filter((k)=>k !== scope);\n                                                localStorage.setItem(\"persist_profiles_recent\", JSON.stringify(next));\n                                                setRecent(next);\n                                            } catch (e) {}\n                                            if (me === null || me === void 0 ? void 0 : me.sub) {\n                                                const v = \"user:\".concat(me.sub);\n                                                setScope(v);\n                                                setPersistKey(v);\n                                            }\n                                            showToast(\"Perfil eliminado\", \"success\");\n                                        } else {\n                                            // No tienes permisos para borrar del servidor: quítalo de tu lista\n                                            try {\n                                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                                const arr = raw ? JSON.parse(raw) : [];\n                                                const next = arr.filter((k)=>k !== scope);\n                                                localStorage.setItem(\"persist_profiles_recent\", JSON.stringify(next));\n                                                setRecent(next);\n                                                if (me === null || me === void 0 ? void 0 : me.sub) {\n                                                    const v = \"user:\".concat(me.sub);\n                                                    setScope(v);\n                                                    setPersistKey(v);\n                                                }\n                                                showToast(\"Quitado de tus perfiles\", \"info\");\n                                            } catch (e) {\n                                                showToast(\"No se pudo eliminar\", \"error\");\n                                            }\n                                        }\n                                    } catch (e) {\n                                        showToast(\"No se pudo eliminar\", \"error\");\n                                    }\n                                },\n                                children: \"\\uD83D\\uDDD1️\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 250,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 244,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 222,\n                columnNumber: 7\n            }, this),\n            newProfileOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"control\",\n                style: {\n                    display: \"inline-flex\",\n                    gap: 6\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        className: \"tile-icon-input\",\n                        placeholder: \"p.ej. team:marketing o user:mi-id\",\n                        value: newProfile,\n                        onChange: (e)=>setNewProfile(e.target.value),\n                        style: {\n                            minWidth: 220\n                        }\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 291,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"primary-btn\",\n                        onClick: async ()=>{\n                            const k = newProfile.trim();\n                            if (!k) return;\n                            setPersistKey(k);\n                            setScope(k);\n                            try {\n                                await fetch(\"/api/state?key=\".concat(encodeURIComponent(k)), {\n                                    method: \"PUT\",\n                                    headers: {\n                                        \"content-type\": \"application/json\"\n                                    },\n                                    body: JSON.stringify(state)\n                                });\n                            } catch (e) {}\n                            setNewProfile(\"\");\n                            setNewProfileOpen(false);\n                            try {\n                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                setRecent(raw ? JSON.parse(raw) : []);\n                            } catch (e) {}\n                        },\n                        children: \"Crear y aplicar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 298,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"secondary-btn\",\n                        onClick: ()=>setNewProfileOpen(false),\n                        children: \"Cancelar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 315,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 290,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"button\",\n                className: \"secondary-btn more-btn\",\n                \"aria-expanded\": moreOpen,\n                \"aria-controls\": \"toolbar-advanced\",\n                onClick: ()=>setMoreOpen((v)=>!v),\n                title: moreOpen ? \"Ocultar opciones\" : \"M\\xe1s opciones\",\n                children: \"⋯\"\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 322,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"toolbar-advanced\",\n                className: \"toolbar-advanced \".concat(moreOpen ? \"is-open\" : \"\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"control\",\n                        role: \"group\",\n                        \"aria-label\": \"Estilo\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                            value: state.tileStyle,\n                            onValueChange: (v)=>setTileStyle(v),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"cozy\",\n                                    children: \"C\\xf3modo\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 337,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"compact\",\n                                    children: \"Compacto\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 338,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 336,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 335,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"control\",\n                        role: \"group\",\n                        \"aria-label\": \"Tema\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                            value: state.theme,\n                            onValueChange: (v)=>setTheme(v),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"system\",\n                                    children: \"Sistema\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 344,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"light\",\n                                    children: \"Claro\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 345,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"dark\",\n                                    children: \"Oscuro\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 346,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 343,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 342,\n                        columnNumber: 9\n                    }, this),\n                    (me === null || me === void 0 ? void 0 : me.authenticated) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"secondary-btn\",\n                        onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_5__.signOut)({\n                                callbackUrl: \"/\"\n                            }),\n                        children: \"Salir\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 351,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"secondary-btn\",\n                        onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_5__.signIn)(),\n                        children: \"Entrar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 353,\n                        columnNumber: 11\n                    }, this),\n                    isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                        className: \"secondary-btn\",\n                        href: \"/admin\",\n                        style: {\n                            textDecoration: \"none\",\n                            display: \"inline-flex\",\n                            alignItems: \"center\"\n                        },\n                        children: \"Admin\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 355,\n                        columnNumber: 22\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 334,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: fileRef,\n                type: \"file\",\n                accept: \"application/json\",\n                style: {\n                    display: \"none\"\n                },\n                onChange: async (e)=>{\n                    var _e_target_files;\n                    const f = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                    if (!f) return;\n                    try {\n                        const ab = await f.arrayBuffer();\n                        const res = await fetch(\"/api/encoding/convert\", {\n                            method: \"POST\",\n                            body: ab\n                        });\n                        if (!res.ok) throw new Error(\"No se pudo convertir el archivo\");\n                        const { data } = await res.json();\n                        if (typeof data === \"object\" && data) {\n                            importState(data);\n                            showToast(\"Importado\");\n                        }\n                    } catch (err) {\n                        showToast(\"Archivo inv\\xe1lido\");\n                    } finally{\n                        e.currentTarget.value = \"\";\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 358,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/src/components/Toolbar.tsx\",\n        lineNumber: 150,\n        columnNumber: 5\n    }, this);\n}\n_s(Toolbar, \"xEbrt8AHcoKv5Zqmmb6X9WBdjks=\", false, function() {\n    return [\n        _components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__.useDashboard,\n        _components_Toast__WEBPACK_IMPORTED_MODULE_6__.useToast,\n        _components_Dialog__WEBPACK_IMPORTED_MODULE_7__.useDialog\n    ];\n});\n_c = Toolbar;\nvar _c;\n$RefreshReg$(_c, \"Toolbar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Rvb2xiYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTZEO0FBQ0E7QUFDaEI7QUFDWTtBQUNQO0FBQ0o7QUFDRTtBQUVEO0FBRXhDLFNBQVNhOztJQUNkLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsRUFBRUMsV0FBVyxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRSxHQUFHbEIsMEVBQVlBO0lBQ25JLE1BQU1tQixVQUFVVCxNQUFNUyxPQUFPLElBQUksQ0FBQztJQUNsQyxNQUFNQyxVQUFVdEIsNkNBQU1BLENBQW1CO0lBQ3pDLE1BQU0sQ0FBQ3VCLElBQUlDLE1BQU0sR0FBR3ZCLCtDQUFRQSxDQUFZO0lBQ3hDLE1BQU0sQ0FBQ3dCLE9BQU9DLFNBQVMsR0FBR3pCLCtDQUFRQSxDQUFTO0lBQzNDLE1BQU0sQ0FBQzBCLFVBQVVDLFlBQVksR0FBRzNCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzRCLGdCQUFnQkMsa0JBQWtCLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUM4QixZQUFZQyxjQUFjLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNnQyxRQUFRQyxVQUFVLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxnQkFBZ0JDLGtCQUFrQixHQUFHckMsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDc0MsUUFBUUMsVUFBVSxHQUFHdkMsK0NBQVFBLENBQVcsRUFBRTtJQUNqRCxNQUFNLENBQUN3QyxRQUFRQyxVQUFVLEdBQUd6QywrQ0FBUUEsQ0FBeUIsQ0FBQztJQUM5RCxNQUFNLENBQUMwQyxPQUFPQyxTQUFTLEdBQUczQywrQ0FBUUEsQ0FB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QUFNekgsdURBQU1BO2tDQUFJOzs7Ozs7b0JBRTFFdUcseUJBQVksOERBQUMrRDt3QkFBRXpELFdBQVU7d0JBQWdCbUMsTUFBSzt3QkFBU2YsT0FBTzs0QkFBRXNDLGdCQUFnQjs0QkFBUVgsU0FBUzs0QkFBZVksWUFBWTt3QkFBUztrQ0FBRzs7Ozs7Ozs7Ozs7OzBCQUczSSw4REFBQzFEO2dCQUNDMkQsS0FBS3pKO2dCQUNMK0YsTUFBSztnQkFDTDJELFFBQU87Z0JBQ1B6QyxPQUFPO29CQUFFMkIsU0FBUztnQkFBTztnQkFDekIxQyxVQUFVLE9BQU9DO3dCQUNMQTtvQkFBVixNQUFNd0QsS0FBSXhELGtCQUFBQSxFQUFFQyxNQUFNLENBQUN3RCxLQUFLLGNBQWR6RCxzQ0FBQUEsZUFBZ0IsQ0FBQyxFQUFFO29CQUM3QixJQUFJLENBQUN3RCxHQUFHO29CQUNSLElBQUk7d0JBQ0YsTUFBTUUsS0FBSyxNQUFNRixFQUFFRyxXQUFXO3dCQUM5QixNQUFNbEksTUFBTSxNQUFNQyxNQUFNLHlCQUF5Qjs0QkFBRTZGLFFBQVE7NEJBQVFFLE1BQU1pQzt3QkFBRzt3QkFDNUUsSUFBSSxDQUFDakksSUFBSUcsRUFBRSxFQUFFLE1BQU0sSUFBSWdJLE1BQU07d0JBQzdCLE1BQU0sRUFBRS9ILElBQUksRUFBRSxHQUFHLE1BQU1KLElBQUlLLElBQUk7d0JBQy9CLElBQUksT0FBT0QsU0FBUyxZQUFZQSxNQUFNOzRCQUFFbkMsWUFBWW1DOzRCQUFPVCxVQUFVO3dCQUFjO29CQUNyRixFQUFFLE9BQU95SSxLQUFLO3dCQUNaekksVUFBVTtvQkFDWixTQUFVO3dCQUNSNEUsRUFBRThELGFBQWEsQ0FBQ3JGLEtBQUssR0FBRztvQkFDMUI7Z0JBQ0Y7Ozs7Ozs7Ozs7OztBQUlSO0dBaFhnQnZGOztRQUN5R1Qsc0VBQVlBO1FBYzdHTSx1REFBUUE7UUFDVkMseURBQVNBOzs7S0FoQmZFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL1Rvb2xiYXIudHN4PzdjYmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGFzaGJvYXJkIH0gZnJvbSBcIkAvY29tcG9uZW50cy9EYXNoYm9hcmRDb250ZXh0XCI7XG5pbXBvcnQgeyBkb3dubG9hZEpTT04gfSBmcm9tIFwiQC9saWIvc3RvcmFnZVwiO1xuaW1wb3J0IHsgU2VsZWN0LCBTZWxlY3RJdGVtIH0gZnJvbSBcIkAvY29tcG9uZW50cy9TZWxlY3RcIjtcbmltcG9ydCB7IHNpZ25Jbiwgc2lnbk91dCB9IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIjtcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy9Ub2FzdFwiO1xuaW1wb3J0IHsgdXNlRGlhbG9nIH0gZnJvbSBcIkAvY29tcG9uZW50cy9EaWFsb2dcIjtcbmltcG9ydCB0eXBlIHsgTWUgfSBmcm9tIFwiQC9saWIvYXV0aFwiO1xuaW1wb3J0IHsgaXNBZG1pbkdyb3VwIH0gZnJvbSBcIkAvbGliL2F1dGgtdXRpbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gVG9vbGJhcigpIHtcbiAgY29uc3QgeyBzdGF0ZSwgc2V0VGhlbWUsIHNldENvbHVtbnMsIHNldFRpbGVTdHlsZSwgc2V0U2VhcmNoLCBzZXRFZGl0TW9kZSwgc2V0Vmlld01vZGUsIGltcG9ydFN0YXRlLCBzZXRQZXJzaXN0S2V5IH0gPSB1c2VEYXNoYm9hcmQoKTtcbiAgY29uc3QgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnMgfHwge307XG4gIGNvbnN0IGZpbGVSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFttZSwgc2V0TWVdID0gdXNlU3RhdGU8TWUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Njb3BlLCBzZXRTY29wZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbbW9yZU9wZW4sIHNldE1vcmVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld1Byb2ZpbGVPcGVuLCBzZXROZXdQcm9maWxlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXdQcm9maWxlLCBzZXROZXdQcm9maWxlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hhcmVPcGVuLCBzZXRTaGFyZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2FuTmF0aXZlU2hhcmUsIHNldENhbk5hdGl2ZVNoYXJlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlY2VudCwgc2V0UmVjZW50XSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtsYWJlbHMsIHNldExhYmVsc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFthZG1pbiwgc2V0QWRtaW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IHNob3dUb2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgeyBjb25maXJtIH0gPSB1c2VEaWFsb2coKTtcbiAgY29uc3Qgc2hhcmVBbmNob3JSZWYgPSB1c2VSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBzaGFyZVBhbmVsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgc2hhcmVJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvbWVcIiwgeyBjYWNoZTogXCJuby1zdG9yZVwiIH0pO1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgc2V0TWUoZGF0YSk7XG4gICAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzaXN0X3Njb3BlXCIpO1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRLZXkgPSBkYXRhPy5zdWIgPyBgdXNlcjoke2RhdGEuc3VifWAgOiBcImRlZmF1bHRcIjtcbiAgICAgICAgICBjb25zdCBrZXkgPSBzdG9yZWQgfHwgZGVmYXVsdEtleTtcbiAgICAgICAgICBzZXRTY29wZShrZXkpO1xuICAgICAgICAgIHNldFBlcnNpc3RLZXkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudFwiKTtcbiAgICAgICAgc2V0UmVjZW50KHJhdyA/IChKU09OLnBhcnNlKHJhdykgYXMgc3RyaW5nW10pIDogW10pO1xuICAgICAgICBjb25zdCBsYWJlbHNSYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBlcnNpc3RfcHJvZmlsZV9sYWJlbHNcIik7XG4gICAgICAgIGlmIChsYWJlbHNSYXcpIHNldExhYmVscyhKU09OLnBhcnNlKGxhYmVsc1JhdykpO1xuICAgICAgfSBjYXRjaCB7fVxuICAgIH0pKCk7XG4gIH0sIFtzZXRQZXJzaXN0S2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudFwiKTtcbiAgICAgIHNldFJlY2VudChyYXcgPyAoSlNPTi5wYXJzZShyYXcpIGFzIHN0cmluZ1tdKSA6IFtdKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtzY29wZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHNldENhbk5hdGl2ZVNoYXJlKHR5cGVvZiAobmF2aWdhdG9yIGFzIGFueSkuc2hhcmUgPT09IFwiZnVuY3Rpb25cIik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gUmVzb2x2ZSBodW1hbiBsYWJlbHMgZm9yIGZvcmVpZ24gdXNlcjoqIHByb2ZpbGVzIHZpYSBBUElcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmF3ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyc2lzdF9wcm9maWxlc19yZWNlbnQnKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGFycjogc3RyaW5nW10gPSByYXcgPyBKU09OLnBhcnNlKHJhdykgOiBbXTtcbiAgICAgICAgY29uc3Qga2V5cyA9IG5ldyBTZXQ8c3RyaW5nPihbc2NvcGUsIC4uLmFycl0pO1xuICAgICAgICBjb25zdCB1c2VyS2V5Rm9yTWUgPSBtZT8uc3ViID8gYHVzZXI6JHttZS5zdWJ9YCA6IG51bGw7XG4gICAgICAgIGNvbnN0IHRvUmVzb2x2ZSA9IEFycmF5LmZyb20oa2V5cykuZmlsdGVyKGsgPT4gaz8uc3RhcnRzV2l0aCgndXNlcjonKSAmJiBrICE9PSB1c2VyS2V5Rm9yTWUgJiYgIWxhYmVsc1trXSk7XG4gICAgICAgIGlmICh0b1Jlc29sdmUubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbCh0b1Jlc29sdmUubWFwKGFzeW5jIGsgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYC9hcGkvcHJvZmlsZS9sYWJlbD9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQoayl9YCwgeyBjYWNoZTogJ25vLXN0b3JlJyB9KTtcbiAgICAgICAgICAgIGlmICghci5vaykgcmV0dXJuIFtrLCB1bmRlZmluZWRdIGFzIGNvbnN0O1xuICAgICAgICAgICAgY29uc3QgeyBsYWJlbCB9ID0gYXdhaXQgci5qc29uKCk7XG4gICAgICAgICAgICByZXR1cm4gW2ssIGxhYmVsIGFzIHN0cmluZyB8IHVuZGVmaW5lZF0gYXMgY29uc3Q7XG4gICAgICAgICAgfSBjYXRjaCB7IHJldHVybiBbaywgdW5kZWZpbmVkXSBhcyBjb25zdDsgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHsgLi4ubGFiZWxzIH07XG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaCgoW2ssIHZdKSA9PiB7IGlmICh2KSBtYXBba10gPSB2OyB9KTtcbiAgICAgICAgc2V0TGFiZWxzKG1hcCk7XG4gICAgICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVfbGFiZWxzJywgSlNPTi5zdHJpbmdpZnkobWFwKSk7IH0gY2F0Y2gge31cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9KSgpO1xuICB9LCBbbWUsIHNjb3BlLCBsYWJlbHNdKTtcblxuICBjb25zdCBzY29wZU9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBvcHRzOiB7IHZhbHVlOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfVtdID0gW107XG4gICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IHB1c2ggPSAodjogc3RyaW5nLCBsOiBzdHJpbmcpID0+IHsgaWYgKCFzZWVuLmhhcyh2KSkgeyBvcHRzLnB1c2goeyB2YWx1ZTogdiwgbGFiZWw6IGwgfSk7IHNlZW4uYWRkKHYpOyB9IH07XG5cbiAgICAvLyBQZXJzb25hbCBkZWwgdXN1YXJpbyBhY3R1YWxcbiAgICBpZiAobWU/LnN1YikgcHVzaChgdXNlcjoke21lLnN1Yn1gLCAnUGVyc29uYWwnKTtcblxuICAgIC8vIEdydXBvcyBub3JtYWxpemFkb3MgKHNpbiBwcmVmaWpvIFwiL1wiKVxuICAgIChtZT8uZ3JvdXBzIHx8IFtdKS5mb3JFYWNoKGcgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IHR5cGVvZiBnID09PSAnc3RyaW5nJyA/IGcucmVwbGFjZSgvXlxcLy8sICcnKSA6IFN0cmluZyhnKTtcbiAgICAgIHB1c2goYGdyb3VwOiR7bmFtZX1gLCBgR3J1cG86ICR7bmFtZX1gKTtcbiAgICB9KTtcblxuICAgIC8vIFBlcmZpbGVzIHJlY2llbnRlczogZXZpdGFyIGR1cGxpY2Fkb3MgeSBkZXNjYXJ0YXIgdXNlcjoqIGRlIG90cm9zIHVzdWFyaW9zXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50JykgOiBudWxsO1xuICAgICAgY29uc3QgYXJyOiBzdHJpbmdbXSA9IHJhdyA/IEpTT04ucGFyc2UocmF3KSA6IFtdO1xuICAgICAgY29uc3QgY3VycmVudFVzZXJLZXkgPSBtZT8uc3ViID8gYHVzZXI6JHttZS5zdWJ9YCA6IG51bGw7XG4gICAgICBhcnIuZm9yRWFjaChrID0+IHtcbiAgICAgICAgaWYgKCFrKSByZXR1cm47XG4gICAgICAgIC8vIERvIG5vdCBzaG93IG90aGVyIHVzZXJzJyBwZXJzb25hbCBrZXlzIGFzICdQZXJzb25hbCdcbiAgICAgICAgaWYgKGsuc3RhcnRzV2l0aCgndXNlcjonKSAmJiBrICE9PSBjdXJyZW50VXNlcktleSkge1xuICAgICAgICAgIGNvbnN0IGZyaWVuZGx5ID0gbGFiZWxzW2tdID8gYFVzdWFyaW86ICR7bGFiZWxzW2tdfWAgOiBgVXN1YXJpbzogJHtrLnNsaWNlKDUsIDEzKX1gO1xuICAgICAgICAgIHB1c2goaywgZnJpZW5kbHkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFiZWwgPSBrO1xuICAgICAgICBpZiAoay5zdGFydHNXaXRoKCdncm91cDonKSkgbGFiZWwgPSBgR3J1cG86ICR7ay5zbGljZSg2KX1gO1xuICAgICAgICBlbHNlIGlmIChrLnN0YXJ0c1dpdGgoJ3VzZXI6JykpIGxhYmVsID0gJ1BlcnNvbmFsJztcbiAgICAgICAgcHVzaChrLCBsYWJlbCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIHt9XG5cbiAgICBpZiAob3B0cy5sZW5ndGggPT09IDApIHB1c2goJ2RlZmF1bHQnLCAnU2luIHNlc2nDs24nKTtcbiAgICBpZiAoc2NvcGUgJiYgIXNlZW4uaGFzKHNjb3BlKSkgb3B0cy51bnNoaWZ0KHsgdmFsdWU6IHNjb3BlLCBsYWJlbDogc2NvcGUgfSk7XG4gICAgcmV0dXJuIG9wdHM7XG4gIH0sIFttZSwgc2NvcGUsIGxhYmVsc10pO1xuICBjb25zdCBpc0FkbWluID0gYWRtaW47XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1lPy5hdXRoZW50aWNhdGVkKSB7IHNldEFkbWluKGZhbHNlKTsgcmV0dXJuOyB9XG4gICAgLy8gRmlyc3QsIGRlY2lkZSB2aWEgdG9rZW4gZ3JvdXBzIGlmIHByZXNlbnRcbiAgICBjb25zdCB0b2tlbkFkbWluID0gaXNBZG1pbkdyb3VwKG1lLmdyb3Vwcyk7XG4gICAgc2V0QWRtaW4odG9rZW5BZG1pbik7XG4gICAgLy8gRmFsbGJhY2sgcHJvYmU6IGlmIG5vdCBkZXRlY3RlZCwgdHJ5IGNhbGxpbmcgYW4gYWRtaW4gQVBJOyAyMDAgPT4gYWRtaW5cbiAgICBpZiAoIXRva2VuQWRtaW4pIHtcbiAgICAgIGZldGNoKCcvYXBpL2FkbWluL2tleXMnLCB7IGNhY2hlOiAnbm8tc3RvcmUnIH0pXG4gICAgICAgIC50aGVuKHIgPT4geyBpZiAoci5vaykgc2V0QWRtaW4odHJ1ZSk7IH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7XG4gICAgfVxuICB9LCBbbWVdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJzZWFyY2hcIlxuICAgICAgICBjbGFzc05hbWU9XCJzZWFyY2hcIlxuICAgICAgICBwbGFjZWhvbGRlcj1cIkJ1c2Nhci4uLlwiXG4gICAgICAgIHZhbHVlPXtzdGF0ZS5zZWFyY2h9XG4gICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAvPlxuXG4gICAgICB7LyogQmxvcXVlIGRlIGRpc3Bvc2ljacOzbjogZWRpY2nDs24gKyBjb2x1bW5hcyArIHZpc3RhICsgZmF2b3JpdG9zICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWNoaXBcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiRGlzcG9zaWNpw7NuXCI+XG4gICAgICAgIHsvKiBCb3TDs24gZGUgZWRpY2nDs24gKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9e2BidG4gcHJpbWFyeS1idG4gJHtzdGF0ZS5lZGl0TW9kZSA/IFwiYnRuLW9uXCIgOiBcImJ0bi1vZmZcIn1gfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEVkaXRNb2RlKCFzdGF0ZS5lZGl0TW9kZSl9XG4gICAgICAgICAgdGl0bGU9e3N0YXRlLmVkaXRNb2RlID8gXCJEZXNhY3RpdmFyIGVkaWNpw7NuXCIgOiBcIkFjdGl2YXIgZWRpY2nDs25cIn1cbiAgICAgICAgPlxuICAgICAgICAgIHtzdGF0ZS5lZGl0TW9kZSA/IFwiU2FsaXIgZWRpY2nDs25cIiA6IFwiRWRpdGFyXCJ9XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHsvKiBNb3N0cmFyIGxhcyBkZW3DoXMgb3BjaW9uZXMgc29sbyBzaSBlZGl0TW9kZSBlc3TDoSBhY3Rpdm8gKi99XG4gICAgICAgIHtzdGF0ZS5lZGl0TW9kZSAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHsvKiBDb250cm9sIGRlIGNvbHVtbmFzICovfVxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPkNvbHVtbmFzPC9zcGFuPlxuICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwY3QgPSAoKHN0YXRlLmNvbHVtbnMgLSAyKSAvICg2IC0gMikpICogMTAwO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPXsyfVxuICAgICAgICAgICAgICAgICAgICBtYXg9ezZ9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdGF0ZS5jb2x1bW5zfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvbHVtbnMocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgW1wiLS1yYW5nZS1wY3RcIiBhcyBhbnldOiBgJHtwY3R9JWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgPHNwYW4+e3N0YXRlLmNvbHVtbnN9PC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgey8qIFNlbGVjdG9yIGRlIHZpc3RhICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlZpc3RhXCI+XG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3N0YXRlLnZpZXdNb2RlfSBvblZhbHVlQ2hhbmdlPXsodikgPT4gc2V0Vmlld01vZGUodiBhcyBhbnkpfT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImdyb3VwZWRcIj5BZ3J1cGFkbzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImFsbFwiPlRvZG9zPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwibGlzdFwiPkxpc3RhPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRmF2b3JpdG9zICovfVxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPkZhdm9yaXRvczwvc3Bhbj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXshIWZpbHRlcnMuZmF2b3JpdGVzT25seX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGltcG9ydFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IHsgLi4uZmlsdGVycywgZmF2b3JpdGVzT25seTogZS50YXJnZXQuY2hlY2tlZCB9LFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuXG4gICAgICB7LyogUGVyZmlsICsgYWNjaW9uZXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItY2hpcCBwcm9maWxlLWNoaXBcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiUGVyZmlsXCI+XG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJjb250cm9sXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPlBlcmZpbDwvc3Bhbj5cbiAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzY29wZX0gb25WYWx1ZUNoYW5nZT17KHYpID0+IHsgc2V0U2NvcGUodik7IHNldFBlcnNpc3RLZXkodik7IH19IGRpc3BsYXlMYWJlbD17KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghc2NvcGUpIHJldHVybiAnJztcbiAgICAgICAgICAgIGlmIChtZT8uc3ViICYmIHNjb3BlID09PSBgdXNlcjoke21lLnN1Yn1gKSByZXR1cm4gJ1BlcnNvbmFsJztcbiAgICAgICAgICAgIGlmIChzY29wZS5zdGFydHNXaXRoKCdncm91cDonKSkgcmV0dXJuIGBHcnVwbzogJHtzY29wZS5zbGljZSg2KX1gO1xuICAgICAgICAgICAgaWYgKHNjb3BlLnN0YXJ0c1dpdGgoJ3VzZXI6JykpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhYmVsc1tzY29wZV07XG4gICAgICAgICAgICAgIHJldHVybiBuYW1lID8gYFVzdWFyaW86ICR7bmFtZX1gIDogYFVzdWFyaW86ICR7c2NvcGUuc2xpY2UoNSwgMTMpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgICAgICAgfSkoKX0+XG4gICAgICAgICAgICB7c2NvcGVPcHRpb25zLm1hcChvID0+IChcbiAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtvLnZhbHVlfSB2YWx1ZT17by52YWx1ZX0+e28ubGFiZWx9PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jaGlwXCIgdGl0bGU9e21lPy5lbWFpbCB8fCBtZT8ubmFtZSB8fCBtZT8uc3ViIHx8ICcnfSBhcmlhLWxhYmVsPVwiVXN1YXJpbyBhY3R1YWxcIj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBvcGFjaXR5OiAuOSB9fT7wn5GkPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPnttZT8ubmFtZSB8fCBtZT8uZW1haWwgfHwgKG1lPy5zdWIgPyBtZS5zdWIgOiAnSW52aXRhZG8nKX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBpY29uLXNoZWxmXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkFjY2lvbmVzIGRlIHBlcmZpbFwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImljb24tYnRuXCIgYXJpYS1sYWJlbD1cIk51ZXZvIHBlcmZpbFwiIHRpdGxlPVwiTnVldm8gcGVyZmlsXCIgb25DbGljaz17KCkgPT4geyBzZXROZXdQcm9maWxlKFwiXCIpOyBzZXROZXdQcm9maWxlT3BlbihvID0+ICFvKTsgfX0+4p6VPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiaWNvbi1idG5cIiBhcmlhLWxhYmVsPVwiR3VhcmRhciBwZXJmaWxcIiB0aXRsZT1cIkd1YXJkYXIgYWhvcmFcIiBvbkNsaWNrPXthc3luYyAoKSA9PiB7IHRyeSB7IGF3YWl0IGZldGNoKGAvYXBpL3N0YXRlP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChzY29wZSl9YCwgeyBtZXRob2Q6IFwiUFVUXCIsIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSwgYm9keTogSlNPTi5zdHJpbmdpZnkoc3RhdGUpIH0pOyBzaG93VG9hc3QoJ1BlcmZpbCBndWFyZGFkbycsICdzdWNjZXNzJyk7IH0gY2F0Y2ggeyBzaG93VG9hc3QoJ0Vycm9yIGFsIGd1YXJkYXInLCAnZXJyb3InKTsgfSB9fT7wn5K+PC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiaWNvbi1idG5cIiBhcmlhLWxhYmVsPVwiQ29tcGFydGlyIHBlcmZpbFwiIHRpdGxlPVwiQ29tcGFydGlyIGVubGFjZVwiIG9uQ2xpY2s9e2FzeW5jICgpID0+IHsgdHJ5IHsgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7IHVybC5zZWFyY2hQYXJhbXMuc2V0KFwicHJvZmlsZVwiLCBzY29wZSk7IGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHVybC50b1N0cmluZygpKTsgc2V0Q29waWVkKHRydWUpOyBzaG93VG9hc3QoJ0VubGFjZSBjb3BpYWRvJywgJ3N1Y2Nlc3MnKTsgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAxNTAwKTsgfSBjYXRjaCB7IHNob3dUb2FzdCgnTm8gc2UgcHVkbyBjb3BpYXInLCAnZXJyb3InKTsgfSB9fT57Y29waWVkID8gXCLinJNcIiA6IFwi8J+Ul1wifTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImljb24tYnRuXCIgYXJpYS1sYWJlbD1cIkV4cG9ydGFyIHBlcmZpbFwiIHRpdGxlPVwiRXhwb3J0YXIgcGVyZmlsXCIgb25DbGljaz17KCkgPT4geyBkb3dubG9hZEpTT04oXCJkYXNoYm9hcmQuanNvblwiLCBzdGF0ZSk7IHNob3dUb2FzdCgnRXhwb3J0YWRvJywgJ3N1Y2Nlc3MnKTsgfX0+4qSTPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiaWNvbi1idG5cIiBhcmlhLWxhYmVsPVwiSW1wb3J0YXIgcGVyZmlsXCIgdGl0bGU9XCJJbXBvcnRhciBwZXJmaWxcIiBvbkNsaWNrPXsoKSA9PiBmaWxlUmVmLmN1cnJlbnQ/LmNsaWNrKCl9PuKktDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImljb24tYnRuXCIgYXJpYS1sYWJlbD1cIkVsaW1pbmFyIHBlcmZpbFwiIHRpdGxlPVwiRWxpbWluYXIgcGVyZmlsXCIgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzY29wZSB8fCBzY29wZSA9PT0gJ2RlZmF1bHQnKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBodW1hbiA9ICgoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtZT8uc3ViICYmIHNjb3BlID09PSBgdXNlcjoke21lLnN1Yn1gKSByZXR1cm4gJ3R1IHBlcmZpbCBQZXJzb25hbCc7XG4gICAgICAgICAgICAgIGlmIChzY29wZS5zdGFydHNXaXRoKCdncm91cDonKSkgcmV0dXJuIGBwZXJmaWwgZGUgR3J1cG86ICR7c2NvcGUuc2xpY2UoNil9YDtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLnN0YXJ0c1dpdGgoJ3VzZXI6JykpIHJldHVybiBgcGVyZmlsIGRlIFVzdWFyaW86ICR7bGFiZWxzW3Njb3BlXSB8fCBzY29wZS5zbGljZSg1LDEzKX1gO1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgY29uc3Qgb2sgPSBhd2FpdCBjb25maXJtKHsgdGl0bGU6ICdFbGltaW5hciBwZXJmaWwnLCBtZXNzYWdlOiBgwr9FbGltaW5hciAke2h1bWFufT9gIH0pO1xuICAgICAgICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvc3RhdGU/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNjb3BlKX1gLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50Jyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBhcnI6IHN0cmluZ1tdID0gcmF3ID8gSlNPTi5wYXJzZShyYXcpIDogW107XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYXJyLmZpbHRlcihrID0+IGsgIT09IHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudCcsIEpTT04uc3RyaW5naWZ5KG5leHQpKTtcbiAgICAgICAgICAgICAgICAgIHNldFJlY2VudChuZXh0KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgaWYgKG1lPy5zdWIpIHsgY29uc3QgdiA9IGB1c2VyOiR7bWUuc3VifWA7IHNldFNjb3BlKHYpOyBzZXRQZXJzaXN0S2V5KHYpOyB9XG4gICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdQZXJmaWwgZWxpbWluYWRvJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyB0aWVuZXMgcGVybWlzb3MgcGFyYSBib3JyYXIgZGVsIHNlcnZpZG9yOiBxdcOtdGFsbyBkZSB0dSBsaXN0YVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyc2lzdF9wcm9maWxlc19yZWNlbnQnKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFycjogc3RyaW5nW10gPSByYXcgPyBKU09OLnBhcnNlKHJhdykgOiBbXTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBhcnIuZmlsdGVyKGsgPT4gayAhPT0gc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50JywgSlNPTi5zdHJpbmdpZnkobmV4dCkpO1xuICAgICAgICAgICAgICAgICAgc2V0UmVjZW50KG5leHQpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1lPy5zdWIpIHsgY29uc3QgdiA9IGB1c2VyOiR7bWUuc3VifWA7IHNldFNjb3BlKHYpOyBzZXRQZXJzaXN0S2V5KHYpOyB9XG4gICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ1F1aXRhZG8gZGUgdHVzIHBlcmZpbGVzJywgJ2luZm8nKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHsgc2hvd1RvYXN0KCdObyBzZSBwdWRvIGVsaW1pbmFyJywgJ2Vycm9yJyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7IHNob3dUb2FzdCgnTm8gc2UgcHVkbyBlbGltaW5hcicsICdlcnJvcicpOyB9XG4gICAgICAgICAgfX0+8J+Xke+4jzwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7bmV3UHJvZmlsZU9wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2xcIiBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsIGdhcDogNiB9fT5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpbGUtaWNvbi1pbnB1dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInAuZWouIHRlYW06bWFya2V0aW5nIG8gdXNlcjptaS1pZFwiXG4gICAgICAgICAgICB2YWx1ZT17bmV3UHJvZmlsZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5ld1Byb2ZpbGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgc3R5bGU9e3sgbWluV2lkdGg6IDIyMCB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJpbWFyeS1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBrID0gbmV3UHJvZmlsZS50cmltKCk7XG4gICAgICAgICAgICAgIGlmICghaykgcmV0dXJuO1xuICAgICAgICAgICAgICBzZXRQZXJzaXN0S2V5KGspO1xuICAgICAgICAgICAgICBzZXRTY29wZShrKTtcbiAgICAgICAgICAgICAgdHJ5IHsgYXdhaXQgZmV0Y2goYC9hcGkvc3RhdGU/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGspfWAsIHsgbWV0aG9kOiBcIlBVVFwiLCBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sIGJvZHk6IEpTT04uc3RyaW5naWZ5KHN0YXRlKSB9KTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICBzZXROZXdQcm9maWxlKFwiXCIpOyBzZXROZXdQcm9maWxlT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudFwiKTtcbiAgICAgICAgICAgICAgICBzZXRSZWNlbnQocmF3ID8gKEpTT04ucGFyc2UocmF3KSBhcyBzdHJpbmdbXSkgOiBbXSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ3JlYXIgeSBhcGxpY2FyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2V0TmV3UHJvZmlsZU9wZW4oZmFsc2UpfT5DYW5jZWxhcjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQZXJmaWxlcyByZWNpZW50ZXM6IG1vdmVyIGEgYXZhbnphZG8gcGFyYSBjb21wYWN0YXIgKi99XG5cbiAgICAgIHsvKiBTbWFsbCBzY3JlZW5zOiB0b2dnbGUgdG8gc2hvdyBhZHZhbmNlZCBjb250cm9scyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cInNlY29uZGFyeS1idG4gbW9yZS1idG5cIlxuICAgICAgICBhcmlhLWV4cGFuZGVkPXttb3JlT3Blbn1cbiAgICAgICAgYXJpYS1jb250cm9scz1cInRvb2xiYXItYWR2YW5jZWRcIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNb3JlT3Blbih2ID0+ICF2KX1cbiAgICAgICAgdGl0bGU9e21vcmVPcGVuID8gXCJPY3VsdGFyIG9wY2lvbmVzXCIgOiBcIk3DoXMgb3BjaW9uZXNcIn1cbiAgICAgID5cbiAgICAgICAg4ouvXG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIEFkdmFuY2VkIGNvbnRyb2xzOiBtZW5vcyBmcmVjdWVudGVzICovfVxuICAgICAgPGRpdiBpZD1cInRvb2xiYXItYWR2YW5jZWRcIiBjbGFzc05hbWU9e2B0b29sYmFyLWFkdmFuY2VkICR7bW9yZU9wZW4gPyBcImlzLW9wZW5cIiA6IFwiXCJ9YH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbFwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJFc3RpbG9cIj5cbiAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzdGF0ZS50aWxlU3R5bGV9IG9uVmFsdWVDaGFuZ2U9eyh2KSA9PiBzZXRUaWxlU3R5bGUodiBhcyBhbnkpfT5cbiAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiY296eVwiPkPDs21vZG88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImNvbXBhY3RcIj5Db21wYWN0bzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlRlbWFcIj5cbiAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzdGF0ZS50aGVtZX0gb25WYWx1ZUNoYW5nZT17KHYpID0+IHNldFRoZW1lKHYgYXMgYW55KX0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInN5c3RlbVwiPlNpc3RlbWE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImxpZ2h0XCI+Q2xhcm88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImRhcmtcIj5Pc2N1cm88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHttZT8uYXV0aGVudGljYXRlZCA/IChcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2lnbk91dCh7IGNhbGxiYWNrVXJsOiBcIi9cIiB9KX0+U2FsaXI8L2J1dHRvbj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2lnbkluKCl9PkVudHJhcjwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICB7aXNBZG1pbiAmJiAoPGEgY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiIGhyZWY9XCIvYWRtaW5cIiBzdHlsZT17eyB0ZXh0RGVjb3JhdGlvbjogXCJub25lXCIsIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5BZG1pbjwvYT4pfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxpbnB1dFxuICAgICAgICByZWY9e2ZpbGVSZWZ9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgYWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19XG4gICAgICAgIG9uQ2hhbmdlPXthc3luYyAoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGYgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgICAgICAgIGlmICghZikgcmV0dXJuO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhYiA9IGF3YWl0IGYuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9lbmNvZGluZy9jb252ZXJ0XCIsIHsgbWV0aG9kOiBcIlBPU1RcIiwgYm9keTogYWIgfSk7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2UgcHVkbyBjb252ZXJ0aXIgZWwgYXJjaGl2b1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhKSB7IGltcG9ydFN0YXRlKGRhdGEpOyBzaG93VG9hc3QoJ0ltcG9ydGFkbycpOyB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoXCJBcmNoaXZvIGludsOhbGlkb1wiKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZURhc2hib2FyZCIsImRvd25sb2FkSlNPTiIsIlNlbGVjdCIsIlNlbGVjdEl0ZW0iLCJzaWduSW4iLCJzaWduT3V0IiwidXNlVG9hc3QiLCJ1c2VEaWFsb2ciLCJpc0FkbWluR3JvdXAiLCJUb29sYmFyIiwic3RhdGUiLCJzZXRUaGVtZSIsInNldENvbHVtbnMiLCJzZXRUaWxlU3R5bGUiLCJzZXRTZWFyY2giLCJzZXRFZGl0TW9kZSIsInNldFZpZXdNb2RlIiwiaW1wb3J0U3RhdGUiLCJzZXRQZXJzaXN0S2V5IiwiZmlsdGVycyIsImZpbGVSZWYiLCJtZSIsInNldE1lIiwic2NvcGUiLCJzZXRTY29wZSIsIm1vcmVPcGVuIiwic2V0TW9yZU9wZW4iLCJuZXdQcm9maWxlT3BlbiIsInNldE5ld1Byb2ZpbGVPcGVuIiwibmV3UHJvZmlsZSIsInNldE5ld1Byb2ZpbGUiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJzaGFyZU9wZW4iLCJzZXRTaGFyZU9wZW4iLCJjYW5OYXRpdmVTaGFyZSIsInNldENhbk5hdGl2ZVNoYXJlIiwicmVjZW50Iiwic2V0UmVjZW50IiwibGFiZWxzIiwic2V0TGFiZWxzIiwiYWRtaW4iLCJzZXRBZG1pbiIsInNob3dUb2FzdCIsImNvbmZpcm0iLCJzaGFyZUFuY2hvclJlZiIsInNoYXJlUGFuZWxSZWYiLCJzaGFyZUlucHV0UmVmIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsIm9rIiwiZGF0YSIsImpzb24iLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGVmYXVsdEtleSIsInN1YiIsImtleSIsInJhdyIsIkpTT04iLCJwYXJzZSIsImxhYmVsc1JhdyIsIm5hdmlnYXRvciIsInNoYXJlIiwid2luZG93IiwiYXJyIiwia2V5cyIsIlNldCIsInVzZXJLZXlGb3JNZSIsInRvUmVzb2x2ZSIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsImsiLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidW5kZWZpbmVkIiwibGFiZWwiLCJmb3JFYWNoIiwidiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzY29wZU9wdGlvbnMiLCJvcHRzIiwic2VlbiIsInB1c2giLCJsIiwiaGFzIiwidmFsdWUiLCJhZGQiLCJncm91cHMiLCJnIiwibmFtZSIsInJlcGxhY2UiLCJTdHJpbmciLCJjdXJyZW50VXNlcktleSIsImZyaWVuZGx5Iiwic2xpY2UiLCJ1bnNoaWZ0IiwiaXNBZG1pbiIsImF1dGhlbnRpY2F0ZWQiLCJ0b2tlbkFkbWluIiwidGhlbiIsImNhdGNoIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJzZWFyY2giLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJyb2xlIiwiYXJpYS1sYWJlbCIsImJ1dHRvbiIsImVkaXRNb2RlIiwib25DbGljayIsInRpdGxlIiwic3BhbiIsInBjdCIsImNvbHVtbnMiLCJtaW4iLCJtYXgiLCJwYXJzZUludCIsInN0eWxlIiwidmlld01vZGUiLCJvblZhbHVlQ2hhbmdlIiwiY2hlY2tlZCIsImZhdm9yaXRlc09ubHkiLCJkaXNwbGF5TGFiZWwiLCJvIiwiZW1haWwiLCJvcGFjaXR5IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJ1cmwiLCJVUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJ0b1N0cmluZyIsInNldFRpbWVvdXQiLCJjdXJyZW50IiwiY2xpY2siLCJodW1hbiIsIm1lc3NhZ2UiLCJuZXh0IiwiZGlzcGxheSIsImdhcCIsIm1pbldpZHRoIiwidHJpbSIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWNvbnRyb2xzIiwiaWQiLCJ0aWxlU3R5bGUiLCJ0aGVtZSIsImNhbGxiYWNrVXJsIiwiYSIsInRleHREZWNvcmF0aW9uIiwiYWxpZ25JdGVtcyIsInJlZiIsImFjY2VwdCIsImYiLCJmaWxlcyIsImFiIiwiYXJyYXlCdWZmZXIiLCJFcnJvciIsImVyciIsImN1cnJlbnRUYXJnZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Toolbar.tsx\n"));

/***/ })

});