"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/Toolbar.tsx":
/*!************************************!*\
  !*** ./src/components/Toolbar.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toolbar: function() { return /* binding */ Toolbar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/DashboardContext */ \"(app-pages-browser)/./src/components/DashboardContext.tsx\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/storage */ \"(app-pages-browser)/./src/lib/storage.ts\");\n/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/Select */ \"(app-pages-browser)/./src/components/Select.tsx\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _components_Toast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/Toast */ \"(app-pages-browser)/./src/components/Toast.tsx\");\n/* harmony import */ var _components_Dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Dialog */ \"(app-pages-browser)/./src/components/Dialog.tsx\");\n/* harmony import */ var _lib_auth_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/auth-util */ \"(app-pages-browser)/./src/lib/auth-util.ts\");\n/* __next_internal_client_entry_do_not_use__ Toolbar auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction Toolbar() {\n    _s();\n    const { state, setTheme, setColumns, setTileStyle, setSearch, setEditMode, setViewMode, importState, setPersistKey } = (0,_components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__.useDashboard)();\n    const filters = state.filters || {};\n    const fileRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [me, setMe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [scope, setScope] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [moreOpen, setMoreOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newProfileOpen, setNewProfileOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newProfile, setNewProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [shareOpen, setShareOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [canNativeShare, setCanNativeShare] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [recent, setRecent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [labels, setLabels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [admin, setAdmin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { showToast } = (0,_components_Toast__WEBPACK_IMPORTED_MODULE_6__.useToast)();\n    const { confirm } = (0,_components_Dialog__WEBPACK_IMPORTED_MODULE_7__.useDialog)();\n    const shareAnchorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sharePanelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const shareInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const res = await fetch(\"/api/me\", {\n                    cache: \"no-store\"\n                });\n                if (res.ok) {\n                    const data = await res.json();\n                    setMe(data);\n                    const stored = localStorage.getItem(\"persist_scope\");\n                    const defaultKey = (data === null || data === void 0 ? void 0 : data.sub) ? \"user:\".concat(data.sub) : \"default\";\n                    const key = stored || defaultKey;\n                    setScope(key);\n                    setPersistKey(key);\n                }\n            } catch (e) {}\n            try {\n                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                setRecent(raw ? JSON.parse(raw) : []);\n                const labelsRaw = localStorage.getItem(\"persist_profile_labels\");\n                if (labelsRaw) setLabels(JSON.parse(labelsRaw));\n            } catch (e) {}\n        })();\n    }, [\n        setPersistKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const raw = localStorage.getItem(\"persist_profiles_recent\");\n            setRecent(raw ? JSON.parse(raw) : []);\n        } catch (e) {}\n    }, [\n        scope\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (typeof navigator !== \"undefined\") {\n            setCanNativeShare(typeof navigator.share === \"function\");\n        }\n    }, []);\n    // Resolve human labels for foreign user:* profiles via API\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const raw =  true ? window.localStorage.getItem(\"persist_profiles_recent\") : 0;\n                const arr = raw ? JSON.parse(raw) : [];\n                const keys = new Set([\n                    scope,\n                    ...arr\n                ]);\n                const userKeyForMe = (me === null || me === void 0 ? void 0 : me.sub) ? \"user:\".concat(me.sub) : null;\n                const toResolve = Array.from(keys).filter((k)=>(k === null || k === void 0 ? void 0 : k.startsWith(\"user:\")) && k !== userKeyForMe && !labels[k]);\n                if (toResolve.length === 0) return;\n                const results = await Promise.all(toResolve.map(async (k)=>{\n                    try {\n                        const r = await fetch(\"/api/profile/label?key=\".concat(encodeURIComponent(k)), {\n                            cache: \"no-store\"\n                        });\n                        if (!r.ok) return [\n                            k,\n                            undefined\n                        ];\n                        const { label } = await r.json();\n                        return [\n                            k,\n                            label\n                        ];\n                    } catch (e) {\n                        return [\n                            k,\n                            undefined\n                        ];\n                    }\n                }));\n                const map = {\n                    ...labels\n                };\n                results.forEach((param)=>{\n                    let [k, v] = param;\n                    if (v) map[k] = v;\n                });\n                setLabels(map);\n                try {\n                    localStorage.setItem(\"persist_profile_labels\", JSON.stringify(map));\n                } catch (e) {}\n            } catch (e) {}\n        })();\n    }, [\n        me,\n        scope,\n        labels\n    ]);\n    const scopeOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const opts = [];\n        const seen = new Set();\n        const push = (v, l)=>{\n            if (!seen.has(v)) {\n                opts.push({\n                    value: v,\n                    label: l\n                });\n                seen.add(v);\n            }\n        };\n        // Personal del usuario actual\n        if (me === null || me === void 0 ? void 0 : me.sub) push(\"user:\".concat(me.sub), \"Personal\");\n        // Grupos normalizados (sin prefijo \"/\")\n        ((me === null || me === void 0 ? void 0 : me.groups) || []).forEach((g)=>{\n            const name = typeof g === \"string\" ? g.replace(/^\\//, \"\") : String(g);\n            push(\"group:\".concat(name), \"Grupo: \".concat(name));\n        });\n        // Perfiles recientes: evitar duplicados y descartar user:* de otros usuarios\n        try {\n            const raw =  true ? window.localStorage.getItem(\"persist_profiles_recent\") : 0;\n            const arr = raw ? JSON.parse(raw) : [];\n            const currentUserKey = (me === null || me === void 0 ? void 0 : me.sub) ? \"user:\".concat(me.sub) : null;\n            arr.forEach((k)=>{\n                if (!k) return;\n                // Do not show other users' personal keys as 'Personal'\n                if (k.startsWith(\"user:\") && k !== currentUserKey) {\n                    const friendly = labels[k] ? \"Usuario: \".concat(labels[k]) : \"Usuario: \".concat(k.slice(5, 13));\n                    push(k, friendly);\n                    return;\n                }\n                let label = k;\n                if (k.startsWith(\"group:\")) label = \"Grupo: \".concat(k.slice(6));\n                else if (k.startsWith(\"user:\")) label = \"Personal\";\n                push(k, label);\n            });\n        } catch (e) {}\n        if (opts.length === 0) push(\"default\", \"Sin sesi\\xf3n\");\n        if (scope && !seen.has(scope)) opts.unshift({\n            value: scope,\n            label: scope\n        });\n        return opts;\n    }, [\n        me,\n        scope,\n        labels\n    ]);\n    const isAdmin = admin;\n    const shareUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (false) {}\n        try {\n            const url = new URL(window.location.href);\n            if (scope) url.searchParams.set(\"profile\", scope);\n            return url.toString();\n        } catch (e) {\n            return \"\";\n        }\n    }, [\n        scope\n    ]);\n    const shareSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!scope) return null;\n        if (scope.startsWith(\"user:\")) {\n            const id = scope.slice(5);\n            const human = labels[scope];\n            const isSelf = !!((me === null || me === void 0 ? void 0 : me.sub) && id === me.sub);\n            return {\n                badge: \"Usuario\",\n                badgeClass: \"badge-user\",\n                title: isSelf ? (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.email) || \"Tu perfil\" : human || \"ID \".concat(id),\n                subtitle: \"ID \".concat(id),\n                note: isSelf ? \"Tu espacio personal sincronizado.\" : undefined,\n                disabled: false\n            };\n        }\n        if (scope.startsWith(\"group:\")) {\n            const id = scope.slice(6);\n            const human = labels[scope];\n            return {\n                badge: \"Grupo\",\n                badgeClass: \"badge-group\",\n                title: human || id,\n                subtitle: human ? \"ID \".concat(id) : undefined,\n                note: \"Comparte el enlace y a\\xf1ade personas al grupo desde la pesta\\xf1a Identidad.\",\n                disabled: false\n            };\n        }\n        if (scope === \"default\") {\n            return {\n                badge: \"General\",\n                badgeClass: \"badge-default\",\n                title: \"Perfil sin sesi\\xf3n\",\n                note: \"Crea un perfil con tu usuario o grupo para compartir cambios con tu equipo.\",\n                disabled: true\n            };\n        }\n        if (scope.includes(\":\")) {\n            const [prefix, rest] = scope.split(\":\", 2);\n            return {\n                badge: prefix ? prefix.toUpperCase() : \"Perfil\",\n                badgeClass: \"badge-shared\",\n                title: rest || scope,\n                disabled: false\n            };\n        }\n        return {\n            badge: \"Perfil\",\n            badgeClass: \"badge-shared\",\n            title: scope,\n            disabled: false\n        };\n    }, [\n        scope,\n        labels,\n        me === null || me === void 0 ? void 0 : me.email,\n        me === null || me === void 0 ? void 0 : me.name,\n        me === null || me === void 0 ? void 0 : me.sub\n    ]);\n    const shareDisabled = !!(shareSummary === null || shareSummary === void 0 ? void 0 : shareSummary.disabled);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!(me === null || me === void 0 ? void 0 : me.authenticated)) {\n            setAdmin(false);\n            return;\n        }\n        // First, decide via token groups if present\n        const tokenAdmin = (0,_lib_auth_util__WEBPACK_IMPORTED_MODULE_8__.isAdminGroup)(me.groups);\n        setAdmin(tokenAdmin);\n        // Fallback probe: if not detected, try calling an admin API; 200 => admin\n        if (!tokenAdmin) {\n            fetch(\"/api/admin/keys\", {\n                cache: \"no-store\"\n            }).then((r)=>{\n                if (r.ok) setAdmin(true);\n            }).catch(()=>{});\n        }\n    }, [\n        me\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!shareOpen) return;\n        const handleClick = (event)=>{\n            var _sharePanelRef_current, _shareAnchorRef_current;\n            const target = event.target;\n            if (((_sharePanelRef_current = sharePanelRef.current) === null || _sharePanelRef_current === void 0 ? void 0 : _sharePanelRef_current.contains(target)) || ((_shareAnchorRef_current = shareAnchorRef.current) === null || _shareAnchorRef_current === void 0 ? void 0 : _shareAnchorRef_current.contains(target))) return;\n            setShareOpen(false);\n        };\n        document.addEventListener(\"mousedown\", handleClick);\n        return ()=>document.removeEventListener(\"mousedown\", handleClick);\n    }, [\n        shareOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setShareOpen(false);\n        setCopied(false);\n    }, [\n        scope\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!shareOpen) setCopied(false);\n    }, [\n        shareOpen\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"toolbar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"search\",\n                className: \"search\",\n                placeholder: \"Buscar...\",\n                value: state.search,\n                onChange: (e)=>setSearch(e.target.value)\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 237,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar-chip\",\n                role: \"group\",\n                \"aria-label\": \"Disposici\\xf3n\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"btn primary-btn \".concat(state.editMode ? \"btn-on\" : \"btn-off\"),\n                        onClick: ()=>setEditMode(!state.editMode),\n                        title: state.editMode ? \"Desactivar edici\\xf3n\" : \"Activar edici\\xf3n\",\n                        children: state.editMode ? \"Salir edici\\xf3n\" : \"Editar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 248,\n                        columnNumber: 9\n                    }, this),\n                    state.editMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"label-text\",\n                                        children: \"Columnas\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 15\n                                    }, this),\n                                    (()=>{\n                                        const pct = (state.columns - 2) / (6 - 2) * 100;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: 2,\n                                            max: 6,\n                                            value: state.columns,\n                                            onChange: (e)=>setColumns(parseInt(e.target.value)),\n                                            style: {\n                                                [\"--range-pct\"]: \"\".concat(pct, \"%\")\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 266,\n                                            columnNumber: 19\n                                        }, this);\n                                    })(),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: state.columns\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 276,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 261,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"control\",\n                                role: \"group\",\n                                \"aria-label\": \"Vista\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                    value: state.viewMode,\n                                    onValueChange: (v)=>setViewMode(v),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"grouped\",\n                                            children: \"Agrupado\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 282,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"all\",\n                                            children: \"Todos\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 283,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"list\",\n                                            children: \"Lista\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 284,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 281,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"label-text\",\n                                        children: \"Favoritos\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 290,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: !!filters.favoritesOnly,\n                                        onChange: (e)=>{\n                                            importState({\n                                                ...state,\n                                                filters: {\n                                                    ...filters,\n                                                    favoritesOnly: e.target.checked\n                                                }\n                                            });\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 291,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 289,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar-chip profile-chip\",\n                role: \"group\",\n                \"aria-label\": \"Perfil\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"control\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"label-text\",\n                                children: \"Perfil\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 310,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                value: scope,\n                                onValueChange: (v)=>{\n                                    setScope(v);\n                                    setPersistKey(v);\n                                },\n                                displayLabel: (()=>{\n                                    if (!scope) return \"\";\n                                    if ((me === null || me === void 0 ? void 0 : me.sub) && scope === \"user:\".concat(me.sub)) return \"Personal\";\n                                    if (scope.startsWith(\"group:\")) return \"Grupo: \".concat(scope.slice(6));\n                                    if (scope.startsWith(\"user:\")) {\n                                        const name = labels[scope];\n                                        return name ? \"Usuario: \".concat(name) : \"Usuario: \".concat(scope.slice(5, 13));\n                                    }\n                                    return scope;\n                                })(),\n                                children: scopeOptions.map((o)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: o.value,\n                                        children: o.label\n                                    }, o.value, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 322,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 311,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 309,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"user-chip\",\n                        title: (me === null || me === void 0 ? void 0 : me.email) || (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.sub) || \"\",\n                        \"aria-label\": \"Usuario actual\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: .9\n                                },\n                                children: \"\\uD83D\\uDC64\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 327,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.email) || ((me === null || me === void 0 ? void 0 : me.sub) ? me.sub : \"Invitado\")\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 326,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"btn-group icon-shelf\",\n                        role: \"group\",\n                        \"aria-label\": \"Acciones de perfil\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Nuevo perfil\",\n                                title: \"Nuevo perfil\",\n                                onClick: ()=>{\n                                    setNewProfile(\"\");\n                                    setNewProfileOpen((o)=>!o);\n                                },\n                                children: \"➕\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 331,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Guardar perfil\",\n                                title: \"Guardar ahora\",\n                                onClick: async ()=>{\n                                    try {\n                                        await fetch(\"/api/state?key=\".concat(encodeURIComponent(scope)), {\n                                            method: \"PUT\",\n                                            headers: {\n                                                \"content-type\": \"application/json\"\n                                            },\n                                            body: JSON.stringify(state)\n                                        });\n                                        showToast(\"Perfil guardado\", \"success\");\n                                    } catch (e) {\n                                        showToast(\"Error al guardar\", \"error\");\n                                    }\n                                },\n                                children: \"\\uD83D\\uDCBE\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn \".concat(shareOpen ? \"is-on\" : \"\"),\n                                \"aria-label\": \"Compartir perfil\",\n                                title: shareOpen ? \"Cerrar panel de compartir\" : \"Compartir perfil\",\n                                onClick: ()=>setShareOpen((v)=>!v),\n                                ref: shareAnchorRef,\n                                children: shareOpen ? \"✕\" : \"\\uD83D\\uDD17\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 333,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Exportar perfil\",\n                                title: \"Exportar perfil\",\n                                onClick: ()=>{\n                                    (0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.downloadJSON)(\"dashboard.json\", state);\n                                    showToast(\"Exportado\", \"success\");\n                                },\n                                children: \"⤓\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 343,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Importar perfil\",\n                                title: \"Importar perfil\",\n                                onClick: ()=>{\n                                    var _fileRef_current;\n                                    return (_fileRef_current = fileRef.current) === null || _fileRef_current === void 0 ? void 0 : _fileRef_current.click();\n                                },\n                                children: \"⤴\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 344,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Eliminar perfil\",\n                                title: \"Eliminar perfil\",\n                                onClick: async ()=>{\n                                    if (!scope || scope === \"default\") return;\n                                    const human = (()=>{\n                                        if ((me === null || me === void 0 ? void 0 : me.sub) && scope === \"user:\".concat(me.sub)) return \"tu perfil Personal\";\n                                        if (scope.startsWith(\"group:\")) return \"perfil de Grupo: \".concat(scope.slice(6));\n                                        if (scope.startsWith(\"user:\")) return \"perfil de Usuario: \".concat(labels[scope] || scope.slice(5, 13));\n                                        return scope;\n                                    })();\n                                    const ok = await confirm({\n                                        title: \"Eliminar perfil\",\n                                        message: \"\\xbfEliminar \".concat(human, \"?\")\n                                    });\n                                    if (!ok) return;\n                                    try {\n                                        const res = await fetch(\"/api/state?key=\".concat(encodeURIComponent(scope)), {\n                                            method: \"DELETE\"\n                                        });\n                                        if (res.ok) {\n                                            try {\n                                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                                const arr = raw ? JSON.parse(raw) : [];\n                                                const next = arr.filter((k)=>k !== scope);\n                                                localStorage.setItem(\"persist_profiles_recent\", JSON.stringify(next));\n                                                setRecent(next);\n                                            } catch (e) {}\n                                            if (me === null || me === void 0 ? void 0 : me.sub) {\n                                                const v = \"user:\".concat(me.sub);\n                                                setScope(v);\n                                                setPersistKey(v);\n                                            }\n                                            showToast(\"Perfil eliminado\", \"success\");\n                                        } else {\n                                            // No tienes permisos para borrar del servidor: quítalo de tu lista\n                                            try {\n                                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                                const arr = raw ? JSON.parse(raw) : [];\n                                                const next = arr.filter((k)=>k !== scope);\n                                                localStorage.setItem(\"persist_profiles_recent\", JSON.stringify(next));\n                                                setRecent(next);\n                                                if (me === null || me === void 0 ? void 0 : me.sub) {\n                                                    const v = \"user:\".concat(me.sub);\n                                                    setScope(v);\n                                                    setPersistKey(v);\n                                                }\n                                                showToast(\"Quitado de tus perfiles\", \"info\");\n                                            } catch (e) {\n                                                showToast(\"No se pudo eliminar\", \"error\");\n                                            }\n                                        }\n                                    } catch (e) {\n                                        showToast(\"No se pudo eliminar\", \"error\");\n                                    }\n                                },\n                                children: \"\\uD83D\\uDDD1️\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 345,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 330,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 308,\n                columnNumber: 7\n            }, this),\n            shareOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: sharePanelRef,\n                className: \"share-panel\",\n                role: \"dialog\",\n                \"aria-label\": \"Opciones para compartir el perfil\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"share-panel-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"share-panel-title\",\n                                        children: \"Compartir perfil\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 388,\n                                        columnNumber: 15\n                                    }, this),\n                                    shareSummary && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"share-panel-meta\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"badge \".concat(shareSummary.badgeClass),\n                                                children: shareSummary.badge\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 391,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: shareSummary.title\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 392,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 390,\n                                        columnNumber: 17\n                                    }, this),\n                                    (shareSummary === null || shareSummary === void 0 ? void 0 : shareSummary.subtitle) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"share-panel-note\",\n                                        children: shareSummary.subtitle\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 395,\n                                        columnNumber: 42\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 387,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Cerrar panel de compartir\",\n                                onClick: ()=>setShareOpen(false),\n                                children: \"✕\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 397,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 386,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"share-panel-text\",\n                        children: shareDisabled ? \"Crea un perfil con tu usuario o grupo para compartir cambios con tu equipo.\" : \"Comparte este enlace para que otra persona cargue exactamente este tablero.\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 399,\n                        columnNumber: 11\n                    }, this),\n                    (shareSummary === null || shareSummary === void 0 ? void 0 : shareSummary.note) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"share-panel-note\",\n                        children: shareSummary.note\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 400,\n                        columnNumber: 34\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"share-link-row\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: shareInputRef,\n                                value: shareUrl,\n                                readOnly: true,\n                                onFocus: (e)=>e.currentTarget.select()\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 402,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"secondary-btn\",\n                                onClick: async ()=>{\n                                    if (!shareUrl) return;\n                                    try {\n                                        await navigator.clipboard.writeText(shareUrl);\n                                        setCopied(true);\n                                        showToast(\"Enlace copiado\", \"success\");\n                                        setTimeout(()=>setCopied(false), 1800);\n                                    } catch (e) {\n                                        showToast(\"No se pudo copiar\", \"error\");\n                                    }\n                                },\n                                children: copied ? \"Copiado\" : \"Copiar enlace\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 408,\n                                columnNumber: 13\n                            }, this),\n                            canNativeShare && !shareDisabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"secondary-btn\",\n                                onClick: async ()=>{\n                                    if (!shareUrl) return;\n                                    try {\n                                        await navigator.share({\n                                            title: \"Dashboard\",\n                                            url: shareUrl\n                                        });\n                                    } catch (e) {\n                                    /* ignore */ }\n                                },\n                                children: \"Compartir…\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 426,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 401,\n                        columnNumber: 11\n                    }, this),\n                    !shareDisabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"share-tips\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Los cambios se guardan autom\\xe1ticamente para cualquiera que use este perfil.\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Si es un \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"group:\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 445,\n                                        columnNumber: 28\n                                    }, this),\n                                    \" a\\xf1ade personas desde la pesta\\xf1a Identidad.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 445,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Comparte solo con personas de confianza; podr\\xe1n editar este tablero.\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 446,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 443,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 385,\n                columnNumber: 9\n            }, this),\n            newProfileOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"control\",\n                style: {\n                    display: \"inline-flex\",\n                    gap: 6\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        className: \"tile-icon-input\",\n                        placeholder: \"p.ej. team:marketing o user:mi-id\",\n                        value: newProfile,\n                        onChange: (e)=>setNewProfile(e.target.value),\n                        style: {\n                            minWidth: 220\n                        }\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 454,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"primary-btn\",\n                        onClick: async ()=>{\n                            const k = newProfile.trim();\n                            if (!k) return;\n                            setPersistKey(k);\n                            setScope(k);\n                            try {\n                                await fetch(\"/api/state?key=\".concat(encodeURIComponent(k)), {\n                                    method: \"PUT\",\n                                    headers: {\n                                        \"content-type\": \"application/json\"\n                                    },\n                                    body: JSON.stringify(state)\n                                });\n                            } catch (e) {}\n                            setNewProfile(\"\");\n                            setNewProfileOpen(false);\n                            try {\n                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                setRecent(raw ? JSON.parse(raw) : []);\n                            } catch (e) {}\n                        },\n                        children: \"Crear y aplicar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 461,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"secondary-btn\",\n                        onClick: ()=>setNewProfileOpen(false),\n                        children: \"Cancelar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 478,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 453,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"button\",\n                className: \"secondary-btn more-btn\",\n                \"aria-expanded\": moreOpen,\n                \"aria-controls\": \"toolbar-advanced\",\n                onClick: ()=>setMoreOpen((v)=>!v),\n                title: moreOpen ? \"Ocultar opciones\" : \"M\\xe1s opciones\",\n                children: \"⋯\"\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 485,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"toolbar-advanced\",\n                className: \"toolbar-advanced \".concat(moreOpen ? \"is-open\" : \"\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"control\",\n                        role: \"group\",\n                        \"aria-label\": \"Estilo\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                            value: state.tileStyle,\n                            onValueChange: (v)=>setTileStyle(v),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"cozy\",\n                                    children: \"C\\xf3modo\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"compact\",\n                                    children: \"Compacto\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 501,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 499,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"control\",\n                        role: \"group\",\n                        \"aria-label\": \"Tema\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                            value: state.theme,\n                            onValueChange: (v)=>setTheme(v),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"system\",\n                                    children: \"Sistema\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 507,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"light\",\n                                    children: \"Claro\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 508,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                    value: \"dark\",\n                                    children: \"Oscuro\"\n                                }, void 0, false, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 509,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 506,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 505,\n                        columnNumber: 9\n                    }, this),\n                    (me === null || me === void 0 ? void 0 : me.authenticated) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"secondary-btn\",\n                        onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_5__.signOut)({\n                                callbackUrl: \"/\"\n                            }),\n                        children: \"Salir\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 514,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        className: \"secondary-btn\",\n                        onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_5__.signIn)(),\n                        children: \"Entrar\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, this),\n                    isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                        className: \"secondary-btn\",\n                        href: \"/admin\",\n                        style: {\n                            textDecoration: \"none\",\n                            display: \"inline-flex\",\n                            alignItems: \"center\"\n                        },\n                        children: \"Admin\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 518,\n                        columnNumber: 22\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 497,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: fileRef,\n                type: \"file\",\n                accept: \"application/json\",\n                style: {\n                    display: \"none\"\n                },\n                onChange: async (e)=>{\n                    var _e_target_files;\n                    const f = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                    if (!f) return;\n                    try {\n                        const ab = await f.arrayBuffer();\n                        const res = await fetch(\"/api/encoding/convert\", {\n                            method: \"POST\",\n                            body: ab\n                        });\n                        if (!res.ok) throw new Error(\"No se pudo convertir el archivo\");\n                        const { data } = await res.json();\n                        if (typeof data === \"object\" && data) {\n                            importState(data);\n                            showToast(\"Importado\");\n                        }\n                    } catch (err) {\n                        showToast(\"Archivo inv\\xe1lido\");\n                    } finally{\n                        e.currentTarget.value = \"\";\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 521,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/src/components/Toolbar.tsx\",\n        lineNumber: 236,\n        columnNumber: 5\n    }, this);\n}\n_s(Toolbar, \"+GrCo+bpfOmnrfagdrXBGxR/2pI=\", false, function() {\n    return [\n        _components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__.useDashboard,\n        _components_Toast__WEBPACK_IMPORTED_MODULE_6__.useToast,\n        _components_Dialog__WEBPACK_IMPORTED_MODULE_7__.useDialog\n    ];\n});\n_c = Toolbar;\nvar _c;\n$RefreshReg$(_c, \"Toolbar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Rvb2xiYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTZEO0FBQ0E7QUFDaEI7QUFDWTtBQUNQO0FBQ0o7QUFDRTtBQUVEO0FBRXhDLFNBQVNhOztJQUNkLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsRUFBRUMsV0FBVyxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRSxHQUFHbEIsMEVBQVlBO0lBQ25JLE1BQU1tQixVQUFVVCxNQUFNUyxPQUFPLElBQUksQ0FBQztJQUNsQyxNQUFNQyxVQUFVdEIsNkNBQU1BLENBQW1CO0lBQ3pDLE1BQU0sQ0FBQ3VCLElBQUlDLE1BQU0sR0FBR3ZCLCtDQUFRQSxDQUFZO0lBQ3hDLE1BQU0sQ0FBQ3dCLE9BQU9DLFNBQVMsR0FBR3pCLCtDQUFRQSxDQUFTO0lBQzNDLE1BQU0sQ0FBQzBCLFVBQVVDLFlBQVksR0FBRzNCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzRCLGdCQUFnQkMsa0JBQWtCLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUM4QixZQUFZQyxjQUFjLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNnQyxRQUFRQyxVQUFVLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxnQkFBZ0JDLGtCQUFrQixHQUFHckMsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDc0MsUUFBUUMsVUFBVSxHQUFHdkMsK0NBQVFBLENBQVcsRUFBRTtJQUNqRCxNQUFNLENBQUN3QyxRQUFRQyxVQUFVLEdBQUd6QywrQ0FBUUEsQ0FBeUIsQ0FBQztJQUM5RCxNQUFNLENBQUMwQyxPQUFPQyxTQUFTLEdBQUczQywrQ0FBUUEsQ0FB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QUMsRUFBRTtvQkFDN0IsSUFBSSxDQUFDbUQsR0FBRztvQkFDUixJQUFJO3dCQUNGLE1BQU1FLEtBQUssTUFBTUYsRUFBRUcsV0FBVzt3QkFDOUIsTUFBTTlKLE1BQU0sTUFBTUMsTUFBTSx5QkFBeUI7NEJBQUUySCxRQUFROzRCQUFRRSxNQUFNK0I7d0JBQUc7d0JBQzVFLElBQUksQ0FBQzdKLElBQUlHLEVBQUUsRUFBRSxNQUFNLElBQUk0SixNQUFNO3dCQUM3QixNQUFNLEVBQUUzSixJQUFJLEVBQUUsR0FBRyxNQUFNSixJQUFJSyxJQUFJO3dCQUMvQixJQUFJLE9BQU9ELFNBQVMsWUFBWUEsTUFBTTs0QkFBRW5DLFlBQVltQzs0QkFBT1QsVUFBVTt3QkFBYztvQkFDckYsRUFBRSxPQUFPcUssS0FBSzt3QkFDWnJLLFVBQVU7b0JBQ1osU0FBVTt3QkFDUjZHLEVBQUU4QixhQUFhLENBQUN0RixLQUFLLEdBQUc7b0JBQzFCO2dCQUNGOzs7Ozs7Ozs7Ozs7QUFJUjtHQW5oQmdCdkY7O1FBQ3lHVCxzRUFBWUE7UUFjN0dNLHVEQUFRQTtRQUNWQyx5REFBU0E7OztLQWhCZkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvVG9vbGJhci50c3g/N2NiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEYXNoYm9hcmQgfSBmcm9tIFwiQC9jb21wb25lbnRzL0Rhc2hib2FyZENvbnRleHRcIjtcbmltcG9ydCB7IGRvd25sb2FkSlNPTiB9IGZyb20gXCJAL2xpYi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBTZWxlY3QsIFNlbGVjdEl0ZW0gfSBmcm9tIFwiQC9jb21wb25lbnRzL1NlbGVjdFwiO1xuaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSBcIm5leHQtYXV0aC9yZWFjdFwiO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL1RvYXN0XCI7XG5pbXBvcnQgeyB1c2VEaWFsb2cgfSBmcm9tIFwiQC9jb21wb25lbnRzL0RpYWxvZ1wiO1xuaW1wb3J0IHR5cGUgeyBNZSB9IGZyb20gXCJAL2xpYi9hdXRoXCI7XG5pbXBvcnQgeyBpc0FkbWluR3JvdXAgfSBmcm9tIFwiQC9saWIvYXV0aC11dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBUb29sYmFyKCkge1xuICBjb25zdCB7IHN0YXRlLCBzZXRUaGVtZSwgc2V0Q29sdW1ucywgc2V0VGlsZVN0eWxlLCBzZXRTZWFyY2gsIHNldEVkaXRNb2RlLCBzZXRWaWV3TW9kZSwgaW1wb3J0U3RhdGUsIHNldFBlcnNpc3RLZXkgfSA9IHVzZURhc2hib2FyZCgpO1xuICBjb25zdCBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycyB8fCB7fTtcbiAgY29uc3QgZmlsZVJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW21lLCBzZXRNZV0gPSB1c2VTdGF0ZTxNZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2NvcGUsIHNldFNjb3BlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFttb3JlT3Blbiwgc2V0TW9yZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3UHJvZmlsZU9wZW4sIHNldE5ld1Byb2ZpbGVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld1Byb2ZpbGUsIHNldE5ld1Byb2ZpbGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaGFyZU9wZW4sIHNldFNoYXJlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjYW5OYXRpdmVTaGFyZSwgc2V0Q2FuTmF0aXZlU2hhcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVjZW50LCBzZXRSZWNlbnRdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2xhYmVscywgc2V0TGFiZWxzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW2FkbWluLCBzZXRBZG1pbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgc2hvd1RvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCB7IGNvbmZpcm0gfSA9IHVzZURpYWxvZygpO1xuICBjb25zdCBzaGFyZUFuY2hvclJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNoYXJlUGFuZWxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBzaGFyZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9tZVwiLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSk7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICBzZXRNZShkYXRhKTtcbiAgICAgICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBlcnNpc3Rfc2NvcGVcIik7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdEtleSA9IGRhdGE/LnN1YiA/IGB1c2VyOiR7ZGF0YS5zdWJ9YCA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgIGNvbnN0IGtleSA9IHN0b3JlZCB8fCBkZWZhdWx0S2V5O1xuICAgICAgICAgIHNldFNjb3BlKGtleSk7XG4gICAgICAgICAgc2V0UGVyc2lzdEtleShrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBlcnNpc3RfcHJvZmlsZXNfcmVjZW50XCIpO1xuICAgICAgICBzZXRSZWNlbnQocmF3ID8gKEpTT04ucGFyc2UocmF3KSBhcyBzdHJpbmdbXSkgOiBbXSk7XG4gICAgICAgIGNvbnN0IGxhYmVsc1JhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc2lzdF9wcm9maWxlX2xhYmVsc1wiKTtcbiAgICAgICAgaWYgKGxhYmVsc1Jhdykgc2V0TGFiZWxzKEpTT04ucGFyc2UobGFiZWxzUmF3KSk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSkoKTtcbiAgfSwgW3NldFBlcnNpc3RLZXldKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBlcnNpc3RfcHJvZmlsZXNfcmVjZW50XCIpO1xuICAgICAgc2V0UmVjZW50KHJhdyA/IChKU09OLnBhcnNlKHJhdykgYXMgc3RyaW5nW10pIDogW10pO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW3Njb3BlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc2V0Q2FuTmF0aXZlU2hhcmUodHlwZW9mIChuYXZpZ2F0b3IgYXMgYW55KS5zaGFyZSA9PT0gXCJmdW5jdGlvblwiKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBSZXNvbHZlIGh1bWFuIGxhYmVscyBmb3IgZm9yZWlnbiB1c2VyOiogcHJvZmlsZXMgdmlhIEFQSVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByYXcgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudCcpIDogbnVsbDtcbiAgICAgICAgY29uc3QgYXJyOiBzdHJpbmdbXSA9IHJhdyA/IEpTT04ucGFyc2UocmF3KSA6IFtdO1xuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldDxzdHJpbmc+KFtzY29wZSwgLi4uYXJyXSk7XG4gICAgICAgIGNvbnN0IHVzZXJLZXlGb3JNZSA9IG1lPy5zdWIgPyBgdXNlcjoke21lLnN1Yn1gIDogbnVsbDtcbiAgICAgICAgY29uc3QgdG9SZXNvbHZlID0gQXJyYXkuZnJvbShrZXlzKS5maWx0ZXIoayA9PiBrPy5zdGFydHNXaXRoKCd1c2VyOicpICYmIGsgIT09IHVzZXJLZXlGb3JNZSAmJiAhbGFiZWxzW2tdKTtcbiAgICAgICAgaWYgKHRvUmVzb2x2ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHRvUmVzb2x2ZS5tYXAoYXN5bmMgayA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaChgL2FwaS9wcm9maWxlL2xhYmVsP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChrKX1gLCB7IGNhY2hlOiAnbm8tc3RvcmUnIH0pO1xuICAgICAgICAgICAgaWYgKCFyLm9rKSByZXR1cm4gW2ssIHVuZGVmaW5lZF0gYXMgY29uc3Q7XG4gICAgICAgICAgICBjb25zdCB7IGxhYmVsIH0gPSBhd2FpdCByLmpzb24oKTtcbiAgICAgICAgICAgIHJldHVybiBbaywgbGFiZWwgYXMgc3RyaW5nIHwgdW5kZWZpbmVkXSBhcyBjb25zdDtcbiAgICAgICAgICB9IGNhdGNoIHsgcmV0dXJuIFtrLCB1bmRlZmluZWRdIGFzIGNvbnN0OyB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0geyAuLi5sYWJlbHMgfTtcbiAgICAgICAgcmVzdWx0cy5mb3JFYWNoKChbaywgdl0pID0+IHsgaWYgKHYpIG1hcFtrXSA9IHY7IH0pO1xuICAgICAgICBzZXRMYWJlbHMobWFwKTtcbiAgICAgICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZV9sYWJlbHMnLCBKU09OLnN0cmluZ2lmeShtYXApKTsgfSBjYXRjaCB7fVxuICAgICAgfSBjYXRjaCB7fVxuICAgIH0pKCk7XG4gIH0sIFttZSwgc2NvcGUsIGxhYmVsc10pO1xuXG4gIGNvbnN0IHNjb3BlT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG9wdHM6IHsgdmFsdWU6IHN0cmluZzsgbGFiZWw6IHN0cmluZyB9W10gPSBbXTtcbiAgICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgcHVzaCA9ICh2OiBzdHJpbmcsIGw6IHN0cmluZykgPT4geyBpZiAoIXNlZW4uaGFzKHYpKSB7IG9wdHMucHVzaCh7IHZhbHVlOiB2LCBsYWJlbDogbCB9KTsgc2Vlbi5hZGQodik7IH0gfTtcblxuICAgIC8vIFBlcnNvbmFsIGRlbCB1c3VhcmlvIGFjdHVhbFxuICAgIGlmIChtZT8uc3ViKSBwdXNoKGB1c2VyOiR7bWUuc3VifWAsICdQZXJzb25hbCcpO1xuXG4gICAgLy8gR3J1cG9zIG5vcm1hbGl6YWRvcyAoc2luIHByZWZpam8gXCIvXCIpXG4gICAgKG1lPy5ncm91cHMgfHwgW10pLmZvckVhY2goZyA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gdHlwZW9mIGcgPT09ICdzdHJpbmcnID8gZy5yZXBsYWNlKC9eXFwvLywgJycpIDogU3RyaW5nKGcpO1xuICAgICAgcHVzaChgZ3JvdXA6JHtuYW1lfWAsIGBHcnVwbzogJHtuYW1lfWApO1xuICAgIH0pO1xuXG4gICAgLy8gUGVyZmlsZXMgcmVjaWVudGVzOiBldml0YXIgZHVwbGljYWRvcyB5IGRlc2NhcnRhciB1c2VyOiogZGUgb3Ryb3MgdXN1YXJpb3NcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmF3ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyc2lzdF9wcm9maWxlc19yZWNlbnQnKSA6IG51bGw7XG4gICAgICBjb25zdCBhcnI6IHN0cmluZ1tdID0gcmF3ID8gSlNPTi5wYXJzZShyYXcpIDogW107XG4gICAgICBjb25zdCBjdXJyZW50VXNlcktleSA9IG1lPy5zdWIgPyBgdXNlcjoke21lLnN1Yn1gIDogbnVsbDtcbiAgICAgIGFyci5mb3JFYWNoKGsgPT4ge1xuICAgICAgICBpZiAoIWspIHJldHVybjtcbiAgICAgICAgLy8gRG8gbm90IHNob3cgb3RoZXIgdXNlcnMnIHBlcnNvbmFsIGtleXMgYXMgJ1BlcnNvbmFsJ1xuICAgICAgICBpZiAoay5zdGFydHNXaXRoKCd1c2VyOicpICYmIGsgIT09IGN1cnJlbnRVc2VyS2V5KSB7XG4gICAgICAgICAgY29uc3QgZnJpZW5kbHkgPSBsYWJlbHNba10gPyBgVXN1YXJpbzogJHtsYWJlbHNba119YCA6IGBVc3VhcmlvOiAke2suc2xpY2UoNSwgMTMpfWA7XG4gICAgICAgICAgcHVzaChrLCBmcmllbmRseSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYWJlbCA9IGs7XG4gICAgICAgIGlmIChrLnN0YXJ0c1dpdGgoJ2dyb3VwOicpKSBsYWJlbCA9IGBHcnVwbzogJHtrLnNsaWNlKDYpfWA7XG4gICAgICAgIGVsc2UgaWYgKGsuc3RhcnRzV2l0aCgndXNlcjonKSkgbGFiZWwgPSAnUGVyc29uYWwnO1xuICAgICAgICBwdXNoKGssIGxhYmVsKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2gge31cblxuICAgIGlmIChvcHRzLmxlbmd0aCA9PT0gMCkgcHVzaCgnZGVmYXVsdCcsICdTaW4gc2VzacOzbicpO1xuICAgIGlmIChzY29wZSAmJiAhc2Vlbi5oYXMoc2NvcGUpKSBvcHRzLnVuc2hpZnQoeyB2YWx1ZTogc2NvcGUsIGxhYmVsOiBzY29wZSB9KTtcbiAgICByZXR1cm4gb3B0cztcbiAgfSwgW21lLCBzY29wZSwgbGFiZWxzXSk7XG4gIGNvbnN0IGlzQWRtaW4gPSBhZG1pbjtcblxuICBjb25zdCBzaGFyZVVybCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuICcnO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgIGlmIChzY29wZSkgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2ZpbGUnLCBzY29wZSk7XG4gICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LCBbc2NvcGVdKTtcblxuICBjb25zdCBzaGFyZVN1bW1hcnkgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNjb3BlKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoc2NvcGUuc3RhcnRzV2l0aCgndXNlcjonKSkge1xuICAgICAgY29uc3QgaWQgPSBzY29wZS5zbGljZSg1KTtcbiAgICAgIGNvbnN0IGh1bWFuID0gbGFiZWxzW3Njb3BlXTtcbiAgICAgIGNvbnN0IGlzU2VsZiA9ICEhKG1lPy5zdWIgJiYgaWQgPT09IG1lLnN1Yik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYWRnZTogJ1VzdWFyaW8nLFxuICAgICAgICBiYWRnZUNsYXNzOiAnYmFkZ2UtdXNlcicsXG4gICAgICAgIHRpdGxlOiBpc1NlbGYgPyAobWU/Lm5hbWUgfHwgbWU/LmVtYWlsIHx8ICdUdSBwZXJmaWwnKSA6IChodW1hbiB8fCBgSUQgJHtpZH1gKSxcbiAgICAgICAgc3VidGl0bGU6IGBJRCAke2lkfWAsXG4gICAgICAgIG5vdGU6IGlzU2VsZiA/ICdUdSBlc3BhY2lvIHBlcnNvbmFsIHNpbmNyb25pemFkby4nIDogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChzY29wZS5zdGFydHNXaXRoKCdncm91cDonKSkge1xuICAgICAgY29uc3QgaWQgPSBzY29wZS5zbGljZSg2KTtcbiAgICAgIGNvbnN0IGh1bWFuID0gbGFiZWxzW3Njb3BlXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhZGdlOiAnR3J1cG8nLFxuICAgICAgICBiYWRnZUNsYXNzOiAnYmFkZ2UtZ3JvdXAnLFxuICAgICAgICB0aXRsZTogaHVtYW4gfHwgaWQsXG4gICAgICAgIHN1YnRpdGxlOiBodW1hbiA/IGBJRCAke2lkfWAgOiB1bmRlZmluZWQsXG4gICAgICAgIG5vdGU6ICdDb21wYXJ0ZSBlbCBlbmxhY2UgeSBhw7FhZGUgcGVyc29uYXMgYWwgZ3J1cG8gZGVzZGUgbGEgcGVzdGHDsWEgSWRlbnRpZGFkLicsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNjb3BlID09PSAnZGVmYXVsdCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhZGdlOiAnR2VuZXJhbCcsXG4gICAgICAgIGJhZGdlQ2xhc3M6ICdiYWRnZS1kZWZhdWx0JyxcbiAgICAgICAgdGl0bGU6ICdQZXJmaWwgc2luIHNlc2nDs24nLFxuICAgICAgICBub3RlOiAnQ3JlYSB1biBwZXJmaWwgY29uIHR1IHVzdWFyaW8gbyBncnVwbyBwYXJhIGNvbXBhcnRpciBjYW1iaW9zIGNvbiB0dSBlcXVpcG8uJyxcbiAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChzY29wZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICBjb25zdCBbcHJlZml4LCByZXN0XSA9IHNjb3BlLnNwbGl0KCc6JywgMik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYWRnZTogcHJlZml4ID8gcHJlZml4LnRvVXBwZXJDYXNlKCkgOiAnUGVyZmlsJyxcbiAgICAgICAgYmFkZ2VDbGFzczogJ2JhZGdlLXNoYXJlZCcsXG4gICAgICAgIHRpdGxlOiByZXN0IHx8IHNjb3BlLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBiYWRnZTogJ1BlcmZpbCcsXG4gICAgICBiYWRnZUNsYXNzOiAnYmFkZ2Utc2hhcmVkJyxcbiAgICAgIHRpdGxlOiBzY29wZSxcbiAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgIH07XG4gIH0sIFtzY29wZSwgbGFiZWxzLCBtZT8uZW1haWwsIG1lPy5uYW1lLCBtZT8uc3ViXSk7XG5cbiAgY29uc3Qgc2hhcmVEaXNhYmxlZCA9ICEhc2hhcmVTdW1tYXJ5Py5kaXNhYmxlZDtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWU/LmF1dGhlbnRpY2F0ZWQpIHsgc2V0QWRtaW4oZmFsc2UpOyByZXR1cm47IH1cbiAgICAvLyBGaXJzdCwgZGVjaWRlIHZpYSB0b2tlbiBncm91cHMgaWYgcHJlc2VudFxuICAgIGNvbnN0IHRva2VuQWRtaW4gPSBpc0FkbWluR3JvdXAobWUuZ3JvdXBzKTtcbiAgICBzZXRBZG1pbih0b2tlbkFkbWluKTtcbiAgICAvLyBGYWxsYmFjayBwcm9iZTogaWYgbm90IGRldGVjdGVkLCB0cnkgY2FsbGluZyBhbiBhZG1pbiBBUEk7IDIwMCA9PiBhZG1pblxuICAgIGlmICghdG9rZW5BZG1pbikge1xuICAgICAgZmV0Y2goJy9hcGkvYWRtaW4va2V5cycsIHsgY2FjaGU6ICduby1zdG9yZScgfSlcbiAgICAgICAgLnRoZW4ociA9PiB7IGlmIChyLm9rKSBzZXRBZG1pbih0cnVlKTsgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTtcbiAgICB9XG4gIH0sIFttZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzaGFyZU9wZW4pIHJldHVybjtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIE5vZGU7XG4gICAgICBpZiAoc2hhcmVQYW5lbFJlZi5jdXJyZW50Py5jb250YWlucyh0YXJnZXQpIHx8IHNoYXJlQW5jaG9yUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHRhcmdldCkpIHJldHVybjtcbiAgICAgIHNldFNoYXJlT3BlbihmYWxzZSk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGljayk7XG4gICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrKTtcbiAgfSwgW3NoYXJlT3Blbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2hhcmVPcGVuKGZhbHNlKTtcbiAgICBzZXRDb3BpZWQoZmFsc2UpO1xuICB9LCBbc2NvcGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2hhcmVPcGVuKSBzZXRDb3BpZWQoZmFsc2UpO1xuICB9LCBbc2hhcmVPcGVuXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgIDxpbnB1dFxuICAgICAgICB0eXBlPVwic2VhcmNoXCJcbiAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoXCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIuLi5cIlxuICAgICAgICB2YWx1ZT17c3RhdGUuc2VhcmNofVxuICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfVxuICAgICAgLz5cblxuICAgICAgey8qIEJsb3F1ZSBkZSBkaXNwb3NpY2nDs246IGVkaWNpw7NuICsgY29sdW1uYXMgKyB2aXN0YSArIGZhdm9yaXRvcyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1jaGlwXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkRpc3Bvc2ljacOzblwiPlxuICAgICAgICB7LyogQm90w7NuIGRlIGVkaWNpw7NuICovfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtgYnRuIHByaW1hcnktYnRuICR7c3RhdGUuZWRpdE1vZGUgPyBcImJ0bi1vblwiIDogXCJidG4tb2ZmXCJ9YH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0TW9kZSghc3RhdGUuZWRpdE1vZGUpfVxuICAgICAgICAgIHRpdGxlPXtzdGF0ZS5lZGl0TW9kZSA/IFwiRGVzYWN0aXZhciBlZGljacOzblwiIDogXCJBY3RpdmFyIGVkaWNpw7NuXCJ9XG4gICAgICAgID5cbiAgICAgICAgICB7c3RhdGUuZWRpdE1vZGUgPyBcIlNhbGlyIGVkaWNpw7NuXCIgOiBcIkVkaXRhclwifVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICB7LyogTW9zdHJhciBsYXMgZGVtw6FzIG9wY2lvbmVzIHNvbG8gc2kgZWRpdE1vZGUgZXN0w6EgYWN0aXZvICovfVxuICAgICAgICB7c3RhdGUuZWRpdE1vZGUgJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICB7LyogQ29udHJvbCBkZSBjb2x1bW5hcyAqL31cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJjb250cm9sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsLXRleHRcIj5Db2x1bW5hczwvc3Bhbj5cbiAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGN0ID0gKChzdGF0ZS5jb2x1bW5zIC0gMikgLyAoNiAtIDIpKSAqIDEwMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj17Mn1cbiAgICAgICAgICAgICAgICAgICAgbWF4PXs2fVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3RhdGUuY29sdW1uc31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDb2x1bW5zKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFtcIi0tcmFuZ2UtcGN0XCIgYXMgYW55XTogYCR7cGN0fSVgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgIDxzcGFuPntzdGF0ZS5jb2x1bW5zfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgICAgIHsvKiBTZWxlY3RvciBkZSB2aXN0YSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbFwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJWaXN0YVwiPlxuICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzdGF0ZS52aWV3TW9kZX0gb25WYWx1ZUNoYW5nZT17KHYpID0+IHNldFZpZXdNb2RlKHYgYXMgYW55KX0+XG4gICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJncm91cGVkXCI+QWdydXBhZG88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJhbGxcIj5Ub2RvczwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImxpc3RcIj5MaXN0YTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEZhdm9yaXRvcyAqL31cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJjb250cm9sXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsLXRleHRcIj5GYXZvcml0b3M8L3NwYW4+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17ISFmaWx0ZXJzLmZhdm9yaXRlc09ubHl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpbXBvcnRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7IC4uLmZpbHRlcnMsIGZhdm9yaXRlc09ubHk6IGUudGFyZ2V0LmNoZWNrZWQgfSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cblxuICAgICAgey8qIFBlcmZpbCArIGFjY2lvbmVzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWNoaXAgcHJvZmlsZS1jaGlwXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlBlcmZpbFwiPlxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiY29udHJvbFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsLXRleHRcIj5QZXJmaWw8L3NwYW4+XG4gICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2NvcGV9IG9uVmFsdWVDaGFuZ2U9eyh2KSA9PiB7IHNldFNjb3BlKHYpOyBzZXRQZXJzaXN0S2V5KHYpOyB9fSBkaXNwbGF5TGFiZWw9eygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNjb3BlKSByZXR1cm4gJyc7XG4gICAgICAgICAgICBpZiAobWU/LnN1YiAmJiBzY29wZSA9PT0gYHVzZXI6JHttZS5zdWJ9YCkgcmV0dXJuICdQZXJzb25hbCc7XG4gICAgICAgICAgICBpZiAoc2NvcGUuc3RhcnRzV2l0aCgnZ3JvdXA6JykpIHJldHVybiBgR3J1cG86ICR7c2NvcGUuc2xpY2UoNil9YDtcbiAgICAgICAgICAgIGlmIChzY29wZS5zdGFydHNXaXRoKCd1c2VyOicpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBsYWJlbHNbc2NvcGVdO1xuICAgICAgICAgICAgICByZXR1cm4gbmFtZSA/IGBVc3VhcmlvOiAke25hbWV9YCA6IGBVc3VhcmlvOiAke3Njb3BlLnNsaWNlKDUsIDEzKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgICAgICAgIH0pKCl9PlxuICAgICAgICAgICAge3Njb3BlT3B0aW9ucy5tYXAobyA9PiAoXG4gICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17by52YWx1ZX0gdmFsdWU9e28udmFsdWV9PntvLmxhYmVsfTwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2hpcFwiIHRpdGxlPXttZT8uZW1haWwgfHwgbWU/Lm5hbWUgfHwgbWU/LnN1YiB8fCAnJ30gYXJpYS1sYWJlbD1cIlVzdWFyaW8gYWN0dWFsXCI+XG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3sgb3BhY2l0eTogLjkgfX0+8J+RpDwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj57bWU/Lm5hbWUgfHwgbWU/LmVtYWlsIHx8IChtZT8uc3ViID8gbWUuc3ViIDogJ0ludml0YWRvJyl9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgaWNvbi1zaGVsZlwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJBY2Npb25lcyBkZSBwZXJmaWxcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJpY29uLWJ0blwiIGFyaWEtbGFiZWw9XCJOdWV2byBwZXJmaWxcIiB0aXRsZT1cIk51ZXZvIHBlcmZpbFwiIG9uQ2xpY2s9eygpID0+IHsgc2V0TmV3UHJvZmlsZShcIlwiKTsgc2V0TmV3UHJvZmlsZU9wZW4obyA9PiAhbyk7IH19PuKelTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImljb24tYnRuXCIgYXJpYS1sYWJlbD1cIkd1YXJkYXIgcGVyZmlsXCIgdGl0bGU9XCJHdWFyZGFyIGFob3JhXCIgb25DbGljaz17YXN5bmMgKCkgPT4geyB0cnkgeyBhd2FpdCBmZXRjaChgL2FwaS9zdGF0ZT9rZXk9JHtlbmNvZGVVUklDb21wb25lbnQoc2NvcGUpfWAsIHsgbWV0aG9kOiBcIlBVVFwiLCBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sIGJvZHk6IEpTT04uc3RyaW5naWZ5KHN0YXRlKSB9KTsgc2hvd1RvYXN0KCdQZXJmaWwgZ3VhcmRhZG8nLCAnc3VjY2VzcycpOyB9IGNhdGNoIHsgc2hvd1RvYXN0KCdFcnJvciBhbCBndWFyZGFyJywgJ2Vycm9yJyk7IH0gfX0+8J+SvjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgaWNvbi1idG4gJHtzaGFyZU9wZW4gPyAnaXMtb24nIDogJyd9YH1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb21wYXJ0aXIgcGVyZmlsXCJcbiAgICAgICAgICAgIHRpdGxlPXtzaGFyZU9wZW4gPyAnQ2VycmFyIHBhbmVsIGRlIGNvbXBhcnRpcicgOiAnQ29tcGFydGlyIHBlcmZpbCd9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaGFyZU9wZW4odiA9PiAhdil9XG4gICAgICAgICAgICByZWY9e3NoYXJlQW5jaG9yUmVmfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzaGFyZU9wZW4gPyAn4pyVJyA6ICfwn5SXJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJpY29uLWJ0blwiIGFyaWEtbGFiZWw9XCJFeHBvcnRhciBwZXJmaWxcIiB0aXRsZT1cIkV4cG9ydGFyIHBlcmZpbFwiIG9uQ2xpY2s9eygpID0+IHsgZG93bmxvYWRKU09OKFwiZGFzaGJvYXJkLmpzb25cIiwgc3RhdGUpOyBzaG93VG9hc3QoJ0V4cG9ydGFkbycsICdzdWNjZXNzJyk7IH19PuKkkzwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImljb24tYnRuXCIgYXJpYS1sYWJlbD1cIkltcG9ydGFyIHBlcmZpbFwiIHRpdGxlPVwiSW1wb3J0YXIgcGVyZmlsXCIgb25DbGljaz17KCkgPT4gZmlsZVJlZi5jdXJyZW50Py5jbGljaygpfT7ipLQ8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJpY29uLWJ0blwiIGFyaWEtbGFiZWw9XCJFbGltaW5hciBwZXJmaWxcIiB0aXRsZT1cIkVsaW1pbmFyIHBlcmZpbFwiIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghc2NvcGUgfHwgc2NvcGUgPT09ICdkZWZhdWx0JykgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaHVtYW4gPSAoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobWU/LnN1YiAmJiBzY29wZSA9PT0gYHVzZXI6JHttZS5zdWJ9YCkgcmV0dXJuICd0dSBwZXJmaWwgUGVyc29uYWwnO1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuc3RhcnRzV2l0aCgnZ3JvdXA6JykpIHJldHVybiBgcGVyZmlsIGRlIEdydXBvOiAke3Njb3BlLnNsaWNlKDYpfWA7XG4gICAgICAgICAgICAgIGlmIChzY29wZS5zdGFydHNXaXRoKCd1c2VyOicpKSByZXR1cm4gYHBlcmZpbCBkZSBVc3VhcmlvOiAke2xhYmVsc1tzY29wZV0gfHwgc2NvcGUuc2xpY2UoNSwxMyl9YDtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIGNvbnN0IG9rID0gYXdhaXQgY29uZmlybSh7IHRpdGxlOiAnRWxpbWluYXIgcGVyZmlsJywgbWVzc2FnZTogYMK/RWxpbWluYXIgJHtodW1hbn0/YCB9KTtcbiAgICAgICAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3N0YXRlP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChzY29wZSl9YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudCcpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgYXJyOiBzdHJpbmdbXSA9IHJhdyA/IEpTT04ucGFyc2UocmF3KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGFyci5maWx0ZXIoayA9PiBrICE9PSBzY29wZSk7XG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVyc2lzdF9wcm9maWxlc19yZWNlbnQnLCBKU09OLnN0cmluZ2lmeShuZXh0KSk7XG4gICAgICAgICAgICAgICAgICBzZXRSZWNlbnQobmV4dCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICAgIGlmIChtZT8uc3ViKSB7IGNvbnN0IHYgPSBgdXNlcjoke21lLnN1Yn1gOyBzZXRTY29wZSh2KTsgc2V0UGVyc2lzdEtleSh2KTsgfVxuICAgICAgICAgICAgICAgIHNob3dUb2FzdCgnUGVyZmlsIGVsaW1pbmFkbycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gdGllbmVzIHBlcm1pc29zIHBhcmEgYm9ycmFyIGRlbCBzZXJ2aWRvcjogcXXDrXRhbG8gZGUgdHUgbGlzdGFcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50Jyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBhcnI6IHN0cmluZ1tdID0gcmF3ID8gSlNPTi5wYXJzZShyYXcpIDogW107XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYXJyLmZpbHRlcihrID0+IGsgIT09IHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudCcsIEpTT04uc3RyaW5naWZ5KG5leHQpKTtcbiAgICAgICAgICAgICAgICAgIHNldFJlY2VudChuZXh0KTtcbiAgICAgICAgICAgICAgICAgIGlmIChtZT8uc3ViKSB7IGNvbnN0IHYgPSBgdXNlcjoke21lLnN1Yn1gOyBzZXRTY29wZSh2KTsgc2V0UGVyc2lzdEtleSh2KTsgfVxuICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdRdWl0YWRvIGRlIHR1cyBwZXJmaWxlcycsICdpbmZvJyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7IHNob3dUb2FzdCgnTm8gc2UgcHVkbyBlbGltaW5hcicsICdlcnJvcicpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggeyBzaG93VG9hc3QoJ05vIHNlIHB1ZG8gZWxpbWluYXInLCAnZXJyb3InKTsgfVxuICAgICAgICAgIH19PvCfl5HvuI88L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3NoYXJlT3BlbiAmJiAoXG4gICAgICAgIDxkaXYgcmVmPXtzaGFyZVBhbmVsUmVmfSBjbGFzc05hbWU9XCJzaGFyZS1wYW5lbFwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLWxhYmVsPVwiT3BjaW9uZXMgcGFyYSBjb21wYXJ0aXIgZWwgcGVyZmlsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFyZS1wYW5lbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhcmUtcGFuZWwtdGl0bGVcIj5Db21wYXJ0aXIgcGVyZmlsPC9kaXY+XG4gICAgICAgICAgICAgIHtzaGFyZVN1bW1hcnkgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhcmUtcGFuZWwtbWV0YVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYmFkZ2UgJHtzaGFyZVN1bW1hcnkuYmFkZ2VDbGFzc31gfT57c2hhcmVTdW1tYXJ5LmJhZGdlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPntzaGFyZVN1bW1hcnkudGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7c2hhcmVTdW1tYXJ5Py5zdWJ0aXRsZSAmJiA8cCBjbGFzc05hbWU9XCJzaGFyZS1wYW5lbC1ub3RlXCI+e3NoYXJlU3VtbWFyeS5zdWJ0aXRsZX08L3A+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJpY29uLWJ0blwiIGFyaWEtbGFiZWw9XCJDZXJyYXIgcGFuZWwgZGUgY29tcGFydGlyXCIgb25DbGljaz17KCkgPT4gc2V0U2hhcmVPcGVuKGZhbHNlKX0+4pyVPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwic2hhcmUtcGFuZWwtdGV4dFwiPntzaGFyZURpc2FibGVkID8gJ0NyZWEgdW4gcGVyZmlsIGNvbiB0dSB1c3VhcmlvIG8gZ3J1cG8gcGFyYSBjb21wYXJ0aXIgY2FtYmlvcyBjb24gdHUgZXF1aXBvLicgOiAnQ29tcGFydGUgZXN0ZSBlbmxhY2UgcGFyYSBxdWUgb3RyYSBwZXJzb25hIGNhcmd1ZSBleGFjdGFtZW50ZSBlc3RlIHRhYmxlcm8uJ308L3A+XG4gICAgICAgICAge3NoYXJlU3VtbWFyeT8ubm90ZSAmJiA8cCBjbGFzc05hbWU9XCJzaGFyZS1wYW5lbC1ub3RlXCI+e3NoYXJlU3VtbWFyeS5ub3RlfTwvcD59XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGFyZS1saW5rLXJvd1wiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHJlZj17c2hhcmVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgdmFsdWU9e3NoYXJlVXJsfVxuICAgICAgICAgICAgICByZWFkT25seVxuICAgICAgICAgICAgICBvbkZvY3VzPXtlID0+IGUuY3VycmVudFRhcmdldC5zZWxlY3QoKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCJcbiAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcmVVcmwpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoc2hhcmVVcmwpO1xuICAgICAgICAgICAgICAgICAgc2V0Q29waWVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdFbmxhY2UgY29waWFkbycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDE4MDApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdObyBzZSBwdWRvIGNvcGlhcicsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NvcGllZCA/ICdDb3BpYWRvJyA6ICdDb3BpYXIgZW5sYWNlJ31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge2Nhbk5hdGl2ZVNoYXJlICYmICFzaGFyZURpc2FibGVkICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY29uZGFyeS1idG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghc2hhcmVVcmwpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IChuYXZpZ2F0b3IgYXMgYW55KS5zaGFyZSh7IHRpdGxlOiAnRGFzaGJvYXJkJywgdXJsOiBzaGFyZVVybCB9KTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvKiBpZ25vcmUgKi9cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ29tcGFydGly4oCmXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7IXNoYXJlRGlzYWJsZWQgJiYgKFxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNoYXJlLXRpcHNcIj5cbiAgICAgICAgICAgICAgPGxpPkxvcyBjYW1iaW9zIHNlIGd1YXJkYW4gYXV0b23DoXRpY2FtZW50ZSBwYXJhIGN1YWxxdWllcmEgcXVlIHVzZSBlc3RlIHBlcmZpbC48L2xpPlxuICAgICAgICAgICAgICA8bGk+U2kgZXMgdW4gPHN0cm9uZz5ncm91cDo8L3N0cm9uZz4gYcOxYWRlIHBlcnNvbmFzIGRlc2RlIGxhIHBlc3Rhw7FhIElkZW50aWRhZC48L2xpPlxuICAgICAgICAgICAgICA8bGk+Q29tcGFydGUgc29sbyBjb24gcGVyc29uYXMgZGUgY29uZmlhbnphOyBwb2Ryw6FuIGVkaXRhciBlc3RlIHRhYmxlcm8uPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7bmV3UHJvZmlsZU9wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2xcIiBzdHlsZT17eyBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsIGdhcDogNiB9fT5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpbGUtaWNvbi1pbnB1dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInAuZWouIHRlYW06bWFya2V0aW5nIG8gdXNlcjptaS1pZFwiXG4gICAgICAgICAgICB2YWx1ZT17bmV3UHJvZmlsZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5ld1Byb2ZpbGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgc3R5bGU9e3sgbWluV2lkdGg6IDIyMCB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJpbWFyeS1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBrID0gbmV3UHJvZmlsZS50cmltKCk7XG4gICAgICAgICAgICAgIGlmICghaykgcmV0dXJuO1xuICAgICAgICAgICAgICBzZXRQZXJzaXN0S2V5KGspO1xuICAgICAgICAgICAgICBzZXRTY29wZShrKTtcbiAgICAgICAgICAgICAgdHJ5IHsgYXdhaXQgZmV0Y2goYC9hcGkvc3RhdGU/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGspfWAsIHsgbWV0aG9kOiBcIlBVVFwiLCBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sIGJvZHk6IEpTT04uc3RyaW5naWZ5KHN0YXRlKSB9KTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICBzZXROZXdQcm9maWxlKFwiXCIpOyBzZXROZXdQcm9maWxlT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudFwiKTtcbiAgICAgICAgICAgICAgICBzZXRSZWNlbnQocmF3ID8gKEpTT04ucGFyc2UocmF3KSBhcyBzdHJpbmdbXSkgOiBbXSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ3JlYXIgeSBhcGxpY2FyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2V0TmV3UHJvZmlsZU9wZW4oZmFsc2UpfT5DYW5jZWxhcjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQZXJmaWxlcyByZWNpZW50ZXM6IG1vdmVyIGEgYXZhbnphZG8gcGFyYSBjb21wYWN0YXIgKi99XG5cbiAgICAgIHsvKiBTbWFsbCBzY3JlZW5zOiB0b2dnbGUgdG8gc2hvdyBhZHZhbmNlZCBjb250cm9scyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cInNlY29uZGFyeS1idG4gbW9yZS1idG5cIlxuICAgICAgICBhcmlhLWV4cGFuZGVkPXttb3JlT3Blbn1cbiAgICAgICAgYXJpYS1jb250cm9scz1cInRvb2xiYXItYWR2YW5jZWRcIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNb3JlT3Blbih2ID0+ICF2KX1cbiAgICAgICAgdGl0bGU9e21vcmVPcGVuID8gXCJPY3VsdGFyIG9wY2lvbmVzXCIgOiBcIk3DoXMgb3BjaW9uZXNcIn1cbiAgICAgID5cbiAgICAgICAg4ouvXG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIEFkdmFuY2VkIGNvbnRyb2xzOiBtZW5vcyBmcmVjdWVudGVzICovfVxuICAgICAgPGRpdiBpZD1cInRvb2xiYXItYWR2YW5jZWRcIiBjbGFzc05hbWU9e2B0b29sYmFyLWFkdmFuY2VkICR7bW9yZU9wZW4gPyBcImlzLW9wZW5cIiA6IFwiXCJ9YH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbFwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJFc3RpbG9cIj5cbiAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzdGF0ZS50aWxlU3R5bGV9IG9uVmFsdWVDaGFuZ2U9eyh2KSA9PiBzZXRUaWxlU3R5bGUodiBhcyBhbnkpfT5cbiAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiY296eVwiPkPDs21vZG88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImNvbXBhY3RcIj5Db21wYWN0bzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlRlbWFcIj5cbiAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzdGF0ZS50aGVtZX0gb25WYWx1ZUNoYW5nZT17KHYpID0+IHNldFRoZW1lKHYgYXMgYW55KX0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInN5c3RlbVwiPlNpc3RlbWE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImxpZ2h0XCI+Q2xhcm88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImRhcmtcIj5Pc2N1cm88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHttZT8uYXV0aGVudGljYXRlZCA/IChcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2lnbk91dCh7IGNhbGxiYWNrVXJsOiBcIi9cIiB9KX0+U2FsaXI8L2J1dHRvbj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2lnbkluKCl9PkVudHJhcjwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICB7aXNBZG1pbiAmJiAoPGEgY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiIGhyZWY9XCIvYWRtaW5cIiBzdHlsZT17eyB0ZXh0RGVjb3JhdGlvbjogXCJub25lXCIsIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9fT5BZG1pbjwvYT4pfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxpbnB1dFxuICAgICAgICByZWY9e2ZpbGVSZWZ9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgYWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19XG4gICAgICAgIG9uQ2hhbmdlPXthc3luYyAoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGYgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgICAgICAgIGlmICghZikgcmV0dXJuO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhYiA9IGF3YWl0IGYuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9lbmNvZGluZy9jb252ZXJ0XCIsIHsgbWV0aG9kOiBcIlBPU1RcIiwgYm9keTogYWIgfSk7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2UgcHVkbyBjb252ZXJ0aXIgZWwgYXJjaGl2b1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhKSB7IGltcG9ydFN0YXRlKGRhdGEpOyBzaG93VG9hc3QoJ0ltcG9ydGFkbycpOyB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoXCJBcmNoaXZvIGludsOhbGlkb1wiKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZURhc2hib2FyZCIsImRvd25sb2FkSlNPTiIsIlNlbGVjdCIsIlNlbGVjdEl0ZW0iLCJzaWduSW4iLCJzaWduT3V0IiwidXNlVG9hc3QiLCJ1c2VEaWFsb2ciLCJpc0FkbWluR3JvdXAiLCJUb29sYmFyIiwic3RhdGUiLCJzZXRUaGVtZSIsInNldENvbHVtbnMiLCJzZXRUaWxlU3R5bGUiLCJzZXRTZWFyY2giLCJzZXRFZGl0TW9kZSIsInNldFZpZXdNb2RlIiwiaW1wb3J0U3RhdGUiLCJzZXRQZXJzaXN0S2V5IiwiZmlsdGVycyIsImZpbGVSZWYiLCJtZSIsInNldE1lIiwic2NvcGUiLCJzZXRTY29wZSIsIm1vcmVPcGVuIiwic2V0TW9yZU9wZW4iLCJuZXdQcm9maWxlT3BlbiIsInNldE5ld1Byb2ZpbGVPcGVuIiwibmV3UHJvZmlsZSIsInNldE5ld1Byb2ZpbGUiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJzaGFyZU9wZW4iLCJzZXRTaGFyZU9wZW4iLCJjYW5OYXRpdmVTaGFyZSIsInNldENhbk5hdGl2ZVNoYXJlIiwicmVjZW50Iiwic2V0UmVjZW50IiwibGFiZWxzIiwic2V0TGFiZWxzIiwiYWRtaW4iLCJzZXRBZG1pbiIsInNob3dUb2FzdCIsImNvbmZpcm0iLCJzaGFyZUFuY2hvclJlZiIsInNoYXJlUGFuZWxSZWYiLCJzaGFyZUlucHV0UmVmIiwicmVzIiwiZmV0Y2giLCJjYWNoZSIsIm9rIiwiZGF0YSIsImpzb24iLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGVmYXVsdEtleSIsInN1YiIsImtleSIsInJhdyIsIkpTT04iLCJwYXJzZSIsImxhYmVsc1JhdyIsIm5hdmlnYXRvciIsInNoYXJlIiwid2luZG93IiwiYXJyIiwia2V5cyIsIlNldCIsInVzZXJLZXlGb3JNZSIsInRvUmVzb2x2ZSIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsImsiLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidW5kZWZpbmVkIiwibGFiZWwiLCJmb3JFYWNoIiwidiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzY29wZU9wdGlvbnMiLCJvcHRzIiwic2VlbiIsInB1c2giLCJsIiwiaGFzIiwidmFsdWUiLCJhZGQiLCJncm91cHMiLCJnIiwibmFtZSIsInJlcGxhY2UiLCJTdHJpbmciLCJjdXJyZW50VXNlcktleSIsImZyaWVuZGx5Iiwic2xpY2UiLCJ1bnNoaWZ0IiwiaXNBZG1pbiIsInNoYXJlVXJsIiwidXJsIiwiVVJMIiwibG9jYXRpb24iLCJocmVmIiwic2VhcmNoUGFyYW1zIiwic2V0IiwidG9TdHJpbmciLCJzaGFyZVN1bW1hcnkiLCJpZCIsImh1bWFuIiwiaXNTZWxmIiwiYmFkZ2UiLCJiYWRnZUNsYXNzIiwidGl0bGUiLCJlbWFpbCIsInN1YnRpdGxlIiwibm90ZSIsImRpc2FibGVkIiwiaW5jbHVkZXMiLCJwcmVmaXgiLCJyZXN0Iiwic3BsaXQiLCJ0b1VwcGVyQ2FzZSIsInNoYXJlRGlzYWJsZWQiLCJhdXRoZW50aWNhdGVkIiwidG9rZW5BZG1pbiIsInRoZW4iLCJjYXRjaCIsImhhbmRsZUNsaWNrIiwiZXZlbnQiLCJ0YXJnZXQiLCJjdXJyZW50IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJzZWFyY2giLCJvbkNoYW5nZSIsImUiLCJyb2xlIiwiYXJpYS1sYWJlbCIsImJ1dHRvbiIsImVkaXRNb2RlIiwib25DbGljayIsInNwYW4iLCJwY3QiLCJjb2x1bW5zIiwibWluIiwibWF4IiwicGFyc2VJbnQiLCJzdHlsZSIsInZpZXdNb2RlIiwib25WYWx1ZUNoYW5nZSIsImNoZWNrZWQiLCJmYXZvcml0ZXNPbmx5IiwiZGlzcGxheUxhYmVsIiwibyIsIm9wYWNpdHkiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInJlZiIsImNsaWNrIiwibWVzc2FnZSIsIm5leHQiLCJwIiwicmVhZE9ubHkiLCJvbkZvY3VzIiwiY3VycmVudFRhcmdldCIsInNlbGVjdCIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInNldFRpbWVvdXQiLCJ1bCIsImxpIiwic3Ryb25nIiwiZGlzcGxheSIsImdhcCIsIm1pbldpZHRoIiwidHJpbSIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWNvbnRyb2xzIiwidGlsZVN0eWxlIiwidGhlbWUiLCJjYWxsYmFja1VybCIsImEiLCJ0ZXh0RGVjb3JhdGlvbiIsImFsaWduSXRlbXMiLCJhY2NlcHQiLCJmIiwiZmlsZXMiLCJhYiIsImFycmF5QnVmZmVyIiwiRXJyb3IiLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Toolbar.tsx\n"));

/***/ })

});