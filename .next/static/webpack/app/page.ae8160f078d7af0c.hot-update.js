"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/Toolbar.tsx":
/*!************************************!*\
  !*** ./src/components/Toolbar.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toolbar: function() { return /* binding */ Toolbar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/DashboardContext */ \"(app-pages-browser)/./src/components/DashboardContext.tsx\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/storage */ \"(app-pages-browser)/./src/lib/storage.ts\");\n/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/Select */ \"(app-pages-browser)/./src/components/Select.tsx\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _components_Toast__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/Toast */ \"(app-pages-browser)/./src/components/Toast.tsx\");\n/* harmony import */ var _components_Dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/Dialog */ \"(app-pages-browser)/./src/components/Dialog.tsx\");\n/* harmony import */ var _lib_auth_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/auth-util */ \"(app-pages-browser)/./src/lib/auth-util.ts\");\n/* __next_internal_client_entry_do_not_use__ Toolbar auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction Toolbar() {\n    _s();\n    const { state, setTheme, setColumns, setTileStyle, setSearch, setEditMode, setViewMode, importState, setPersistKey } = (0,_components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__.useDashboard)();\n    const filters = state.filters || {};\n    const fileRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [me, setMe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [scope, setScope] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [moreOpen, setMoreOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newProfileOpen, setNewProfileOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newProfile, setNewProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [shareOpen, setShareOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [canNativeShare, setCanNativeShare] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [recent, setRecent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [labels, setLabels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [admin, setAdmin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { showToast } = (0,_components_Toast__WEBPACK_IMPORTED_MODULE_6__.useToast)();\n    const { confirm } = (0,_components_Dialog__WEBPACK_IMPORTED_MODULE_7__.useDialog)();\n    const shareAnchorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sharePanelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const shareInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const actionsAnchorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const actionsPanelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [actionsOpen, setActionsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const res = await fetch(\"/api/me\", {\n                    cache: \"no-store\"\n                });\n                if (res.ok) {\n                    const data = await res.json();\n                    setMe(data);\n                    const stored = localStorage.getItem(\"persist_scope\");\n                    const defaultKey = (data === null || data === void 0 ? void 0 : data.sub) ? \"user:\".concat(data.sub) : \"default\";\n                    const key = stored || defaultKey;\n                    setScope(key);\n                    setPersistKey(key);\n                }\n            } catch (e) {}\n            try {\n                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                setRecent(raw ? JSON.parse(raw) : []);\n                const labelsRaw = localStorage.getItem(\"persist_profile_labels\");\n                if (labelsRaw) setLabels(JSON.parse(labelsRaw));\n            } catch (e) {}\n        })();\n    }, [\n        setPersistKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const raw = localStorage.getItem(\"persist_profiles_recent\");\n            setRecent(raw ? JSON.parse(raw) : []);\n        } catch (e) {}\n    }, [\n        scope\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (typeof navigator !== \"undefined\") {\n            setCanNativeShare(typeof navigator.share === \"function\");\n        }\n    }, []);\n    // Resolve human labels for foreign user:* profiles via API\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const raw =  true ? window.localStorage.getItem(\"persist_profiles_recent\") : 0;\n                const arr = raw ? JSON.parse(raw) : [];\n                const keys = new Set([\n                    scope,\n                    ...arr\n                ]);\n                const userKeyForMe = (me === null || me === void 0 ? void 0 : me.sub) ? \"user:\".concat(me.sub) : null;\n                const toResolve = Array.from(keys).filter((k)=>(k === null || k === void 0 ? void 0 : k.startsWith(\"user:\")) && k !== userKeyForMe && !labels[k]);\n                if (toResolve.length === 0) return;\n                const results = await Promise.all(toResolve.map(async (k)=>{\n                    try {\n                        const r = await fetch(\"/api/profile/label?key=\".concat(encodeURIComponent(k)), {\n                            cache: \"no-store\"\n                        });\n                        if (!r.ok) return [\n                            k,\n                            undefined\n                        ];\n                        const { label } = await r.json();\n                        return [\n                            k,\n                            label\n                        ];\n                    } catch (e) {\n                        return [\n                            k,\n                            undefined\n                        ];\n                    }\n                }));\n                const map = {\n                    ...labels\n                };\n                results.forEach((param)=>{\n                    let [k, v] = param;\n                    if (v) map[k] = v;\n                });\n                setLabels(map);\n                try {\n                    localStorage.setItem(\"persist_profile_labels\", JSON.stringify(map));\n                } catch (e) {}\n            } catch (e) {}\n        })();\n    }, [\n        me,\n        scope,\n        labels\n    ]);\n    const scopeOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const opts = [];\n        const seen = new Set();\n        const push = (v, l)=>{\n            if (!seen.has(v)) {\n                opts.push({\n                    value: v,\n                    label: l\n                });\n                seen.add(v);\n            }\n        };\n        // Personal del usuario actual\n        if (me === null || me === void 0 ? void 0 : me.sub) push(\"user:\".concat(me.sub), \"Personal\");\n        // Grupos normalizados (sin prefijo \"/\")\n        ((me === null || me === void 0 ? void 0 : me.groups) || []).forEach((g)=>{\n            const name = typeof g === \"string\" ? g.replace(/^\\//, \"\") : String(g);\n            push(\"group:\".concat(name), \"Grupo: \".concat(name));\n        });\n        // Perfiles recientes: evitar duplicados y descartar user:* de otros usuarios\n        try {\n            const raw =  true ? window.localStorage.getItem(\"persist_profiles_recent\") : 0;\n            const arr = raw ? JSON.parse(raw) : [];\n            const currentUserKey = (me === null || me === void 0 ? void 0 : me.sub) ? \"user:\".concat(me.sub) : null;\n            arr.forEach((k)=>{\n                if (!k) return;\n                // Do not show other users' personal keys as 'Personal'\n                if (k.startsWith(\"user:\") && k !== currentUserKey) {\n                    const friendly = labels[k] ? \"Usuario: \".concat(labels[k]) : \"Usuario: \".concat(k.slice(5, 13));\n                    push(k, friendly);\n                    return;\n                }\n                let label = k;\n                if (k.startsWith(\"group:\")) label = \"Grupo: \".concat(k.slice(6));\n                else if (k.startsWith(\"user:\")) label = \"Personal\";\n                push(k, label);\n            });\n        } catch (e) {}\n        if (opts.length === 0) push(\"default\", \"Sin sesi\\xf3n\");\n        if (scope && !seen.has(scope)) opts.unshift({\n            value: scope,\n            label: scope\n        });\n        return opts;\n    }, [\n        me,\n        scope,\n        labels\n    ]);\n    const isAdmin = admin;\n    const shareUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (false) {}\n        try {\n            const url = new URL(window.location.href);\n            if (scope) url.searchParams.set(\"profile\", scope);\n            return url.toString();\n        } catch (e) {\n            return \"\";\n        }\n    }, [\n        scope\n    ]);\n    const shareSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!scope) return null;\n        if (scope.startsWith(\"user:\")) {\n            const id = scope.slice(5);\n            const human = labels[scope];\n            const isSelf = !!((me === null || me === void 0 ? void 0 : me.sub) && id === me.sub);\n            return {\n                badge: \"Usuario\",\n                badgeClass: \"badge-user\",\n                title: isSelf ? (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.email) || \"Tu perfil\" : human || \"ID \".concat(id),\n                subtitle: \"ID \".concat(id),\n                note: isSelf ? \"Tu espacio personal sincronizado.\" : undefined,\n                disabled: false\n            };\n        }\n        if (scope.startsWith(\"group:\")) {\n            const id = scope.slice(6);\n            const human = labels[scope];\n            return {\n                badge: \"Grupo\",\n                badgeClass: \"badge-group\",\n                title: human || id,\n                subtitle: human ? \"ID \".concat(id) : undefined,\n                note: \"Comparte el enlace y a\\xf1ade personas al grupo desde la pesta\\xf1a Identidad.\",\n                disabled: false\n            };\n        }\n        if (scope === \"default\") {\n            return {\n                badge: \"General\",\n                badgeClass: \"badge-default\",\n                title: \"Perfil sin sesi\\xf3n\",\n                note: \"Crea un perfil con tu usuario o grupo para compartir cambios con tu equipo.\",\n                disabled: true\n            };\n        }\n        if (scope.includes(\":\")) {\n            const [prefix, rest] = scope.split(\":\", 2);\n            return {\n                badge: prefix ? prefix.toUpperCase() : \"Perfil\",\n                badgeClass: \"badge-shared\",\n                title: rest || scope,\n                disabled: false\n            };\n        }\n        return {\n            badge: \"Perfil\",\n            badgeClass: \"badge-shared\",\n            title: scope,\n            disabled: false\n        };\n    }, [\n        scope,\n        labels,\n        me === null || me === void 0 ? void 0 : me.email,\n        me === null || me === void 0 ? void 0 : me.name,\n        me === null || me === void 0 ? void 0 : me.sub\n    ]);\n    const shareDisabled = !!(shareSummary === null || shareSummary === void 0 ? void 0 : shareSummary.disabled);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!(me === null || me === void 0 ? void 0 : me.authenticated)) {\n            setAdmin(false);\n            return;\n        }\n        // First, decide via token groups if present\n        const tokenAdmin = (0,_lib_auth_util__WEBPACK_IMPORTED_MODULE_8__.isAdminGroup)(me.groups);\n        setAdmin(tokenAdmin);\n        // Fallback probe: if not detected, try calling an admin API; 200 => admin\n        if (!tokenAdmin) {\n            fetch(\"/api/admin/keys\", {\n                cache: \"no-store\"\n            }).then((r)=>{\n                if (r.ok) setAdmin(true);\n            }).catch(()=>{});\n        }\n    }, [\n        me\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!shareOpen) return;\n        const handleClick = (event)=>{\n            var _sharePanelRef_current, _shareAnchorRef_current;\n            const target = event.target;\n            if (((_sharePanelRef_current = sharePanelRef.current) === null || _sharePanelRef_current === void 0 ? void 0 : _sharePanelRef_current.contains(target)) || ((_shareAnchorRef_current = shareAnchorRef.current) === null || _shareAnchorRef_current === void 0 ? void 0 : _shareAnchorRef_current.contains(target))) return;\n            setShareOpen(false);\n        };\n        document.addEventListener(\"mousedown\", handleClick);\n        return ()=>document.removeEventListener(\"mousedown\", handleClick);\n    }, [\n        shareOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!actionsOpen) return;\n        const handleClick = (event)=>{\n            var _actionsPanelRef_current, _actionsAnchorRef_current;\n            const target = event.target;\n            if (((_actionsPanelRef_current = actionsPanelRef.current) === null || _actionsPanelRef_current === void 0 ? void 0 : _actionsPanelRef_current.contains(target)) || ((_actionsAnchorRef_current = actionsAnchorRef.current) === null || _actionsAnchorRef_current === void 0 ? void 0 : _actionsAnchorRef_current.contains(target))) return;\n            setActionsOpen(false);\n        };\n        document.addEventListener(\"mousedown\", handleClick);\n        return ()=>document.removeEventListener(\"mousedown\", handleClick);\n    }, [\n        actionsOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setShareOpen(false);\n        setCopied(false);\n    }, [\n        scope\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!shareOpen) setCopied(false);\n    }, [\n        shareOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!shareOpen) return;\n        setActionsOpen(false);\n    }, [\n        shareOpen\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"toolbar toolbar-modern\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar-grid\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"toolbar-row toolbar-row-main\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"search\",\n                                className: \"search\",\n                                placeholder: \"Buscar...\",\n                                value: state.search,\n                                onChange: (e)=>setSearch(e.target.value)\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 257,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"primary-btn toolbar-edit \".concat(state.editMode ? \"is-active\" : \"\"),\n                                onClick: ()=>setEditMode(!state.editMode),\n                                children: state.editMode ? \"Salir edici\\xf3n\" : \"Editar\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 264,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 256,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"toolbar-row toolbar-row-profile\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"toolbar-section\",\n                                role: \"group\",\n                                \"aria-label\": \"Perfil\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"control\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"label-text\",\n                                                children: \"Perfil\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 276,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                                value: scope,\n                                                onValueChange: (v)=>{\n                                                    setScope(v);\n                                                    setPersistKey(v);\n                                                },\n                                                displayLabel: (()=>{\n                                                    if (!scope) return \"\";\n                                                    if ((me === null || me === void 0 ? void 0 : me.sub) && scope === \"user:\".concat(me.sub)) return \"Personal\";\n                                                    if (scope.startsWith(\"group:\")) return \"Grupo: \".concat(scope.slice(6));\n                                                    if (scope.startsWith(\"user:\")) {\n                                                        const name = labels[scope];\n                                                        return name ? \"Usuario: \".concat(name) : \"Usuario: \".concat(scope.slice(5, 13));\n                                                    }\n                                                    return scope;\n                                                })(),\n                                                children: scopeOptions.map((o)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                                        value: o.value,\n                                                        children: o.label\n                                                    }, o.value, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 288,\n                                                        columnNumber: 19\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 277,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 275,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"user-chip\",\n                                        title: (me === null || me === void 0 ? void 0 : me.email) || (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.sub) || \"\",\n                                        \"aria-label\": \"Usuario actual\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    opacity: .9\n                                                },\n                                                children: \"\\uD83D\\uDC64\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 293,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: (me === null || me === void 0 ? void 0 : me.name) || (me === null || me === void 0 ? void 0 : me.email) || ((me === null || me === void 0 ? void 0 : me.sub) ? me.sub : \"Invitado\")\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 294,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 274,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"toolbar-section actions-section\",\n                                role: \"group\",\n                                \"aria-label\": \"Acciones de perfil\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        className: \"toolbar-action-toggle \".concat(actionsOpen ? \"is-open\" : \"\"),\n                                        onClick: ()=>setActionsOpen((v)=>!v),\n                                        ref: actionsAnchorRef,\n                                        \"aria-haspopup\": \"menu\",\n                                        \"aria-expanded\": actionsOpen,\n                                        \"aria-controls\": \"toolbar-actions-menu\",\n                                        children: actionsOpen ? \"Cerrar\" : \"Acciones\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 299,\n                                        columnNumber: 13\n                                    }, this),\n                                    actionsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        id: \"toolbar-actions-menu\",\n                                        className: \"toolbar-action-menu\",\n                                        ref: actionsPanelRef,\n                                        role: \"menu\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"action-menu-item\",\n                                                role: \"menuitem\",\n                                                onClick: ()=>{\n                                                    setNewProfile(\"\");\n                                                    setNewProfileOpen(true);\n                                                    setActionsOpen(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"➕\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 322,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \" Nuevo perfil\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 312,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"action-menu-item\",\n                                                role: \"menuitem\",\n                                                onClick: async ()=>{\n                                                    try {\n                                                        await fetch(\"/api/state?key=\".concat(encodeURIComponent(scope)), {\n                                                            method: \"PUT\",\n                                                            headers: {\n                                                                \"content-type\": \"application/json\"\n                                                            },\n                                                            body: JSON.stringify(state)\n                                                        });\n                                                        showToast(\"Perfil guardado\", \"success\");\n                                                    } catch (e) {\n                                                        showToast(\"Error al guardar\", \"error\");\n                                                    }\n                                                    setActionsOpen(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"\\uD83D\\uDCBE\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 338,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \" Guardar\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 324,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"action-menu-item\",\n                                                role: \"menuitem\",\n                                                disabled: shareDisabled,\n                                                onClick: ()=>{\n                                                    setShareOpen(true);\n                                                    setActionsOpen(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"\\uD83D\\uDD17\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 350,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \" Compartir\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 340,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"action-menu-item\",\n                                                role: \"menuitem\",\n                                                onClick: ()=>{\n                                                    (0,_lib_storage__WEBPACK_IMPORTED_MODULE_3__.downloadJSON)(\"dashboard.json\", state);\n                                                    showToast(\"Exportado\", \"success\");\n                                                    setActionsOpen(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"⤓\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 362,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \" Exportar\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 352,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"action-menu-item\",\n                                                role: \"menuitem\",\n                                                onClick: ()=>{\n                                                    var _fileRef_current;\n                                                    (_fileRef_current = fileRef.current) === null || _fileRef_current === void 0 ? void 0 : _fileRef_current.click();\n                                                    setActionsOpen(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"⤴\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 373,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \" Importar\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 364,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                className: \"action-menu-item danger\",\n                                                role: \"menuitem\",\n                                                disabled: !scope || scope === \"default\",\n                                                onClick: async ()=>{\n                                                    if (!scope || scope === \"default\") return;\n                                                    const human = (()=>{\n                                                        if ((me === null || me === void 0 ? void 0 : me.sub) && scope === \"user:\".concat(me.sub)) return \"tu perfil Personal\";\n                                                        if (scope.startsWith(\"group:\")) return \"perfil de Grupo: \".concat(scope.slice(6));\n                                                        if (scope.startsWith(\"user:\")) return \"perfil de Usuario: \".concat(labels[scope] || scope.slice(5, 13));\n                                                        return scope;\n                                                    })();\n                                                    const ok = await confirm({\n                                                        title: \"Eliminar perfil\",\n                                                        message: \"\\xbfEliminar \".concat(human, \"?\")\n                                                    });\n                                                    if (!ok) return;\n                                                    try {\n                                                        const res = await fetch(\"/api/state?key=\".concat(encodeURIComponent(scope)), {\n                                                            method: \"DELETE\"\n                                                        });\n                                                        if (res.ok) {\n                                                            try {\n                                                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                                                const arr = raw ? JSON.parse(raw) : [];\n                                                                const next = arr.filter((k)=>k !== scope);\n                                                                localStorage.setItem(\"persist_profiles_recent\", JSON.stringify(next));\n                                                                setRecent(next);\n                                                            } catch (e) {}\n                                                            if (me === null || me === void 0 ? void 0 : me.sub) {\n                                                                const v = \"user:\".concat(me.sub);\n                                                                setScope(v);\n                                                                setPersistKey(v);\n                                                            }\n                                                            showToast(\"Perfil eliminado\", \"success\");\n                                                        } else {\n                                                            try {\n                                                                const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                                                const arr = raw ? JSON.parse(raw) : [];\n                                                                const next = arr.filter((k)=>k !== scope);\n                                                                localStorage.setItem(\"persist_profiles_recent\", JSON.stringify(next));\n                                                                setRecent(next);\n                                                                if (me === null || me === void 0 ? void 0 : me.sub) {\n                                                                    const v = \"user:\".concat(me.sub);\n                                                                    setScope(v);\n                                                                    setPersistKey(v);\n                                                                }\n                                                                showToast(\"Quitado de tus perfiles\", \"info\");\n                                                            } catch (e) {\n                                                                showToast(\"No se pudo eliminar\", \"error\");\n                                                            }\n                                                        }\n                                                    } catch (e) {\n                                                        showToast(\"No se pudo eliminar\", \"error\");\n                                                    }\n                                                    setActionsOpen(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"\\uD83D\\uDDD1️\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                                        lineNumber: 417,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \" Eliminar\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 375,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 311,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 298,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this),\n                    state.editMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"toolbar-row toolbar-row-edit\",\n                        role: \"group\",\n                        \"aria-label\": \"Opciones de edici\\xf3n\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control slider-control\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"label-text\",\n                                        children: \"Columnas\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 427,\n                                        columnNumber: 15\n                                    }, this),\n                                    (()=>{\n                                        const pct = (state.columns - 2) / (6 - 2) * 100;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: 2,\n                                            max: 6,\n                                            value: state.columns,\n                                            onChange: (e)=>setColumns(parseInt(e.target.value)),\n                                            style: {\n                                                [\"--range-pct\"]: \"\".concat(pct, \"%\")\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 431,\n                                            columnNumber: 19\n                                        }, this);\n                                    })(),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: state.columns\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 441,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 426,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"control select-control\",\n                                role: \"group\",\n                                \"aria-label\": \"Vista\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                    value: state.viewMode,\n                                    onValueChange: (v)=>setViewMode(v),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"grouped\",\n                                            children: \"Agrupado\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 446,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"all\",\n                                            children: \"Todos\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 447,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                            value: \"list\",\n                                            children: \"Lista\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/src/components/Toolbar.tsx\",\n                                            lineNumber: 448,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/src/components/Toolbar.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"control toggle-control\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"label-text\",\n                                        children: \"Solo favoritos\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 453,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"checkbox\",\n                                        checked: !!filters.favoritesOnly,\n                                        onChange: (e)=>{\n                                            importState({\n                                                ...state,\n                                                filters: {\n                                                    ...filters,\n                                                    favoritesOnly: e.target.checked\n                                                }\n                                            });\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 454,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 452,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 425,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 255,\n                columnNumber: 7\n            }, this),\n            shareOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: sharePanelRef,\n                className: \"share-panel\",\n                role: \"dialog\",\n                \"aria-label\": \"Opciones para compartir el perfil\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"share-panel-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"share-panel-title\",\n                                        children: \"Compartir perfil\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 473,\n                                        columnNumber: 15\n                                    }, this),\n                                    shareSummary && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"share-panel-meta\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"badge \".concat(shareSummary.badgeClass),\n                                                children: shareSummary.badge\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 476,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: shareSummary.title\n                                            }, void 0, false, {\n                                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                                lineNumber: 477,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 475,\n                                        columnNumber: 17\n                                    }, this),\n                                    (shareSummary === null || shareSummary === void 0 ? void 0 : shareSummary.subtitle) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"share-panel-note\",\n                                        children: shareSummary.subtitle\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 480,\n                                        columnNumber: 42\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 472,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"icon-btn\",\n                                \"aria-label\": \"Cerrar panel de compartir\",\n                                onClick: ()=>setShareOpen(false),\n                                children: \"✕\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 482,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 471,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"share-panel-text\",\n                        children: shareDisabled ? \"Crea un perfil con tu usuario o grupo para compartir cambios con tu equipo.\" : \"Comparte este enlace para que otra persona cargue exactamente este tablero.\"\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 484,\n                        columnNumber: 11\n                    }, this),\n                    (shareSummary === null || shareSummary === void 0 ? void 0 : shareSummary.note) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"share-panel-note\",\n                        children: shareSummary.note\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 485,\n                        columnNumber: 34\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"share-link-row\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: shareInputRef,\n                                value: shareUrl,\n                                readOnly: true,\n                                onFocus: (e)=>e.currentTarget.select()\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 487,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"secondary-btn\",\n                                onClick: async ()=>{\n                                    if (!shareUrl) return;\n                                    try {\n                                        var _shareInputRef_current;\n                                        await navigator.clipboard.writeText(shareUrl);\n                                        setCopied(true);\n                                        showToast(\"Enlace copiado\", \"success\");\n                                        setTimeout(()=>setCopied(false), 1800);\n                                        (_shareInputRef_current = shareInputRef.current) === null || _shareInputRef_current === void 0 ? void 0 : _shareInputRef_current.select();\n                                    } catch (e) {\n                                        showToast(\"No se pudo copiar\", \"error\");\n                                    }\n                                },\n                                children: copied ? \"Copiado\" : \"Copiar enlace\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 493,\n                                columnNumber: 13\n                            }, this),\n                            canNativeShare && !shareDisabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                className: \"secondary-btn\",\n                                onClick: async ()=>{\n                                    if (!shareUrl) return;\n                                    try {\n                                        await navigator.share({\n                                            title: \"Dashboard\",\n                                            url: shareUrl\n                                        });\n                                    } catch (e) {\n                                    /* ignore */ }\n                                },\n                                children: \"Compartir…\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 486,\n                        columnNumber: 11\n                    }, this),\n                    !shareDisabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"share-tips\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Los cambios se guardan autom\\xe1ticamente para cualquiera que use este perfil.\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 530,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"Si es un \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"group:\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 28\n                                    }, this),\n                                    \" a\\xf1ade personas desde la pesta\\xf1a Identidad.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 531,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"Comparte solo con personas de confianza; podr\\xe1n editar este tablero.\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 532,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 529,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 470,\n                columnNumber: 9\n            }, this),\n            newProfileOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toolbar-row profile-new\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        className: \"tile-icon-input\",\n                        placeholder: \"p.ej. team:marketing o user:mi-id\",\n                        value: newProfile,\n                        onChange: (e)=>setNewProfile(e.target.value)\n                    }, void 0, false, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 540,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"profile-new-actions\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"primary-btn\",\n                                onClick: async ()=>{\n                                    const k = newProfile.trim();\n                                    if (!k) return;\n                                    setPersistKey(k);\n                                    setScope(k);\n                                    try {\n                                        await fetch(\"/api/state?key=\".concat(encodeURIComponent(k)), {\n                                            method: \"PUT\",\n                                            headers: {\n                                                \"content-type\": \"application/json\"\n                                            },\n                                            body: JSON.stringify(state)\n                                        });\n                                    } catch (e) {}\n                                    setNewProfile(\"\");\n                                    setNewProfileOpen(false);\n                                    try {\n                                        const raw = localStorage.getItem(\"persist_profiles_recent\");\n                                        setRecent(raw ? JSON.parse(raw) : []);\n                                    } catch (e) {}\n                                },\n                                children: \"Crear y aplicar\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 547,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"secondary-btn\",\n                                onClick: ()=>setNewProfileOpen(false),\n                                children: \"Cancelar\"\n                            }, void 0, false, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 564,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/src/components/Toolbar.tsx\",\n                        lineNumber: 546,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 539,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"button\",\n                className: \"secondary-btn more-btn\",\n                \"aria-expanded\": moreOpen,\n                \"aria-controls\": \"toolbar-advanced\",\n                onClick: ()=>setMoreOpen((v)=>!v),\n                children: moreOpen ? \"Cerrar\" : \"M\\xe1s opciones\"\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 572,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                id: \"toolbar-advanced\",\n                className: \"toolbar-advanced \".concat(moreOpen ? \"is-open\" : \"\"),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"toolbar-row toolbar-row-advanced\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"control\",\n                            role: \"group\",\n                            \"aria-label\": \"Estilo\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                value: state.tileStyle,\n                                onValueChange: (v)=>setTileStyle(v),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: \"cozy\",\n                                        children: \"C\\xf3modo\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 587,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: \"compact\",\n                                        children: \"Compacto\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 588,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 586,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 585,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"control\",\n                            role: \"group\",\n                            \"aria-label\": \"Tema\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.Select, {\n                                value: state.theme,\n                                onValueChange: (v)=>setTheme(v),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: \"system\",\n                                        children: \"Sistema\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 594,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: \"light\",\n                                        children: \"Claro\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 595,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Select__WEBPACK_IMPORTED_MODULE_4__.SelectItem, {\n                                        value: \"dark\",\n                                        children: \"Oscuro\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/src/components/Toolbar.tsx\",\n                                        lineNumber: 596,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/src/components/Toolbar.tsx\",\n                                lineNumber: 593,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 592,\n                            columnNumber: 11\n                        }, this),\n                        (me === null || me === void 0 ? void 0 : me.authenticated) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            className: \"secondary-btn\",\n                            onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_5__.signOut)({\n                                    callbackUrl: \"/\"\n                                }),\n                            children: \"Salir\"\n                        }, void 0, false, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 601,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            className: \"secondary-btn\",\n                            onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_5__.signIn)(),\n                            children: \"Entrar\"\n                        }, void 0, false, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 603,\n                            columnNumber: 13\n                        }, this),\n                        isAdmin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            className: \"secondary-btn\",\n                            href: \"/admin\",\n                            style: {\n                                textDecoration: \"none\",\n                                display: \"inline-flex\",\n                                alignItems: \"center\"\n                            },\n                            children: \"Admin\"\n                        }, void 0, false, {\n                            fileName: \"/app/src/components/Toolbar.tsx\",\n                            lineNumber: 605,\n                            columnNumber: 24\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/src/components/Toolbar.tsx\",\n                    lineNumber: 584,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 583,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                ref: fileRef,\n                type: \"file\",\n                accept: \"application/json\",\n                style: {\n                    display: \"none\"\n                },\n                onChange: async (e)=>{\n                    var _e_target_files;\n                    const f = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                    if (!f) return;\n                    try {\n                        const ab = await f.arrayBuffer();\n                        const res = await fetch(\"/api/encoding/convert\", {\n                            method: \"POST\",\n                            body: ab\n                        });\n                        if (!res.ok) throw new Error(\"No se pudo convertir el archivo\");\n                        const { data } = await res.json();\n                        if (typeof data === \"object\" && data) {\n                            importState(data);\n                            showToast(\"Importado\");\n                        }\n                    } catch (err) {\n                        showToast(\"Archivo inv\\xe1lido\");\n                    } finally{\n                        e.currentTarget.value = \"\";\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"/app/src/components/Toolbar.tsx\",\n                lineNumber: 609,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/src/components/Toolbar.tsx\",\n        lineNumber: 254,\n        columnNumber: 5\n    }, this);\n}\n_s(Toolbar, \"rLtDyTSBCVErmW8ST9eANkSqdX0=\", false, function() {\n    return [\n        _components_DashboardContext__WEBPACK_IMPORTED_MODULE_2__.useDashboard,\n        _components_Toast__WEBPACK_IMPORTED_MODULE_6__.useToast,\n        _components_Dialog__WEBPACK_IMPORTED_MODULE_7__.useDialog\n    ];\n});\n_c = Toolbar;\nvar _c;\n$RefreshReg$(_c, \"Toolbar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Rvb2xiYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTZEO0FBQ0E7QUFDaEI7QUFDWTtBQUNQO0FBQ0o7QUFDRTtBQUVEO0FBRXhDLFNBQVNhOztJQUNkLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsRUFBRUMsV0FBVyxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRSxHQUFHbEIsMEVBQVlBO0lBQ25JLE1BQU1tQixVQUFVVCxNQUFNUyxPQUFPLElBQUksQ0FBQztJQUNsQyxNQUFNQyxVQUFVdEIsNkNBQU1BLENBQW1CO0lBQ3pDLE1BQU0sQ0FBQ3VCLElBQUlDLE1BQU0sR0FBR3ZCLCtDQUFRQSxDQUFZO0lBQ3hDLE1BQU0sQ0FBQ3dCLE9BQU9DLFNBQVMsR0FBR3pCLCtDQUFRQSxDQUFTO0lBQzNDLE1BQU0sQ0FBQzBCLFVBQVVDLFlBQVksR0FBRzNCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzRCLGdCQUFnQkMsa0JBQWtCLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUM4QixZQUFZQyxjQUFjLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNnQyxRQUFRQyxVQUFVLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNrQyxXQUFXQyxhQUFhLEdBQUduQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQyxnQkFBZ0JDLGtCQUFrQixHQUFHckMsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDc0MsUUFBUUMsVUFBVSxHQUFHdkMsK0NBQVFBLENBQVcsRUFBRTtJQUNqRCxNQUFNLENBQUN3QyxRQUFRQyxVQUFVLEdBQUd6QywrQ0FBUUEsQ0FBeUIsQ0FBQztJQUM5RCxNQUFNLENBQUMwQyxPQUFPQyxTQUFTLEdBQUczQywrQ0FBUUEsQ0FB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T0FBTztvQkFBRXFDLFNBQVM7Z0JBQU87Z0JBQ3pCaEQsVUFBVSxPQUFPQzt3QkFDTEE7b0JBQVYsTUFBTWtELEtBQUlsRCxrQkFBQUEsRUFBRWIsTUFBTSxDQUFDZ0UsS0FBSyxjQUFkbkQsc0NBQUFBLGVBQWdCLENBQUMsRUFBRTtvQkFDN0IsSUFBSSxDQUFDa0QsR0FBRztvQkFDUixJQUFJO3dCQUNGLE1BQU1FLEtBQUssTUFBTUYsRUFBRUcsV0FBVzt3QkFDOUIsTUFBTTdKLE1BQU0sTUFBTUMsTUFBTSx5QkFBeUI7NEJBQUV1SCxRQUFROzRCQUFRRSxNQUFNa0M7d0JBQUc7d0JBQzVFLElBQUksQ0FBQzVKLElBQUlHLEVBQUUsRUFBRSxNQUFNLElBQUkySixNQUFNO3dCQUM3QixNQUFNLEVBQUUxSixJQUFJLEVBQUUsR0FBRyxNQUFNSixJQUFJSyxJQUFJO3dCQUMvQixJQUFJLE9BQU9ELFNBQVMsWUFBWUEsTUFBTTs0QkFBRXZDLFlBQVl1Qzs0QkFBT2IsVUFBVTt3QkFBYztvQkFDckYsRUFBRSxPQUFPd0ssS0FBSzt3QkFDWnhLLFVBQVU7b0JBQ1osU0FBVTt3QkFDUmlILEVBQUVpQyxhQUFhLENBQUN6RixLQUFLLEdBQUc7b0JBQzFCO2dCQUNGOzs7Ozs7Ozs7Ozs7QUFJUjtHQTNtQmdCM0Y7O1FBQ3lHVCxzRUFBWUE7UUFjN0dNLHVEQUFRQTtRQUNWQyx5REFBU0E7OztLQWhCZkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvVG9vbGJhci50c3g/N2NiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEYXNoYm9hcmQgfSBmcm9tIFwiQC9jb21wb25lbnRzL0Rhc2hib2FyZENvbnRleHRcIjtcbmltcG9ydCB7IGRvd25sb2FkSlNPTiB9IGZyb20gXCJAL2xpYi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBTZWxlY3QsIFNlbGVjdEl0ZW0gfSBmcm9tIFwiQC9jb21wb25lbnRzL1NlbGVjdFwiO1xuaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSBcIm5leHQtYXV0aC9yZWFjdFwiO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL1RvYXN0XCI7XG5pbXBvcnQgeyB1c2VEaWFsb2cgfSBmcm9tIFwiQC9jb21wb25lbnRzL0RpYWxvZ1wiO1xuaW1wb3J0IHR5cGUgeyBNZSB9IGZyb20gXCJAL2xpYi9hdXRoXCI7XG5pbXBvcnQgeyBpc0FkbWluR3JvdXAgfSBmcm9tIFwiQC9saWIvYXV0aC11dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBUb29sYmFyKCkge1xuICBjb25zdCB7IHN0YXRlLCBzZXRUaGVtZSwgc2V0Q29sdW1ucywgc2V0VGlsZVN0eWxlLCBzZXRTZWFyY2gsIHNldEVkaXRNb2RlLCBzZXRWaWV3TW9kZSwgaW1wb3J0U3RhdGUsIHNldFBlcnNpc3RLZXkgfSA9IHVzZURhc2hib2FyZCgpO1xuICBjb25zdCBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycyB8fCB7fTtcbiAgY29uc3QgZmlsZVJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW21lLCBzZXRNZV0gPSB1c2VTdGF0ZTxNZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2NvcGUsIHNldFNjb3BlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFttb3JlT3Blbiwgc2V0TW9yZU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbmV3UHJvZmlsZU9wZW4sIHNldE5ld1Byb2ZpbGVPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld1Byb2ZpbGUsIHNldE5ld1Byb2ZpbGVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaGFyZU9wZW4sIHNldFNoYXJlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjYW5OYXRpdmVTaGFyZSwgc2V0Q2FuTmF0aXZlU2hhcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVjZW50LCBzZXRSZWNlbnRdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2xhYmVscywgc2V0TGFiZWxzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW2FkbWluLCBzZXRBZG1pbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgc2hvd1RvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCB7IGNvbmZpcm0gfSA9IHVzZURpYWxvZygpO1xuICBjb25zdCBzaGFyZUFuY2hvclJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHNoYXJlUGFuZWxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBzaGFyZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBhY3Rpb25zQW5jaG9yUmVmID0gdXNlUmVmPEhUTUxCdXR0b25FbGVtZW50PihudWxsKTtcbiAgY29uc3QgYWN0aW9uc1BhbmVsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2FjdGlvbnNPcGVuLCBzZXRBY3Rpb25zT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL21lXCIsIHsgY2FjaGU6IFwibm8tc3RvcmVcIiB9KTtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIHNldE1lKGRhdGEpO1xuICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc2lzdF9zY29wZVwiKTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0S2V5ID0gZGF0YT8uc3ViID8gYHVzZXI6JHtkYXRhLnN1Yn1gIDogXCJkZWZhdWx0XCI7XG4gICAgICAgICAgY29uc3Qga2V5ID0gc3RvcmVkIHx8IGRlZmF1bHRLZXk7XG4gICAgICAgICAgc2V0U2NvcGUoa2V5KTtcbiAgICAgICAgICBzZXRQZXJzaXN0S2V5KGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc2lzdF9wcm9maWxlc19yZWNlbnRcIik7XG4gICAgICAgIHNldFJlY2VudChyYXcgPyAoSlNPTi5wYXJzZShyYXcpIGFzIHN0cmluZ1tdKSA6IFtdKTtcbiAgICAgICAgY29uc3QgbGFiZWxzUmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwZXJzaXN0X3Byb2ZpbGVfbGFiZWxzXCIpO1xuICAgICAgICBpZiAobGFiZWxzUmF3KSBzZXRMYWJlbHMoSlNPTi5wYXJzZShsYWJlbHNSYXcpKTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9KSgpO1xuICB9LCBbc2V0UGVyc2lzdEtleV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc2lzdF9wcm9maWxlc19yZWNlbnRcIik7XG4gICAgICBzZXRSZWNlbnQocmF3ID8gKEpTT04ucGFyc2UocmF3KSBhcyBzdHJpbmdbXSkgOiBbXSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbc2NvcGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzZXRDYW5OYXRpdmVTaGFyZSh0eXBlb2YgKG5hdmlnYXRvciBhcyBhbnkpLnNoYXJlID09PSBcImZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFJlc29sdmUgaHVtYW4gbGFiZWxzIGZvciBmb3JlaWduIHVzZXI6KiBwcm9maWxlcyB2aWEgQVBJXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJhdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50JykgOiBudWxsO1xuICAgICAgICBjb25zdCBhcnI6IHN0cmluZ1tdID0gcmF3ID8gSlNPTi5wYXJzZShyYXcpIDogW107XG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0PHN0cmluZz4oW3Njb3BlLCAuLi5hcnJdKTtcbiAgICAgICAgY29uc3QgdXNlcktleUZvck1lID0gbWU/LnN1YiA/IGB1c2VyOiR7bWUuc3VifWAgOiBudWxsO1xuICAgICAgICBjb25zdCB0b1Jlc29sdmUgPSBBcnJheS5mcm9tKGtleXMpLmZpbHRlcihrID0+IGs/LnN0YXJ0c1dpdGgoJ3VzZXI6JykgJiYgayAhPT0gdXNlcktleUZvck1lICYmICFsYWJlbHNba10pO1xuICAgICAgICBpZiAodG9SZXNvbHZlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodG9SZXNvbHZlLm1hcChhc3luYyBrID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKGAvYXBpL3Byb2ZpbGUvbGFiZWw/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGspfWAsIHsgY2FjaGU6ICduby1zdG9yZScgfSk7XG4gICAgICAgICAgICBpZiAoIXIub2spIHJldHVybiBbaywgdW5kZWZpbmVkXSBhcyBjb25zdDtcbiAgICAgICAgICAgIGNvbnN0IHsgbGFiZWwgfSA9IGF3YWl0IHIuanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIFtrLCBsYWJlbCBhcyBzdHJpbmcgfCB1bmRlZmluZWRdIGFzIGNvbnN0O1xuICAgICAgICAgIH0gY2F0Y2ggeyByZXR1cm4gW2ssIHVuZGVmaW5lZF0gYXMgY29uc3Q7IH1cbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7IC4uLmxhYmVscyB9O1xuICAgICAgICByZXN1bHRzLmZvckVhY2goKFtrLCB2XSkgPT4geyBpZiAodikgbWFwW2tdID0gdjsgfSk7XG4gICAgICAgIHNldExhYmVscyhtYXApO1xuICAgICAgICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVyc2lzdF9wcm9maWxlX2xhYmVscycsIEpTT04uc3RyaW5naWZ5KG1hcCkpOyB9IGNhdGNoIHt9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfSkoKTtcbiAgfSwgW21lLCBzY29wZSwgbGFiZWxzXSk7XG5cbiAgY29uc3Qgc2NvcGVPcHRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgb3B0czogeyB2YWx1ZTogc3RyaW5nOyBsYWJlbDogc3RyaW5nIH1bXSA9IFtdO1xuICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCBwdXNoID0gKHY6IHN0cmluZywgbDogc3RyaW5nKSA9PiB7IGlmICghc2Vlbi5oYXModikpIHsgb3B0cy5wdXNoKHsgdmFsdWU6IHYsIGxhYmVsOiBsIH0pOyBzZWVuLmFkZCh2KTsgfSB9O1xuXG4gICAgLy8gUGVyc29uYWwgZGVsIHVzdWFyaW8gYWN0dWFsXG4gICAgaWYgKG1lPy5zdWIpIHB1c2goYHVzZXI6JHttZS5zdWJ9YCwgJ1BlcnNvbmFsJyk7XG5cbiAgICAvLyBHcnVwb3Mgbm9ybWFsaXphZG9zIChzaW4gcHJlZmlqbyBcIi9cIilcbiAgICAobWU/Lmdyb3VwcyB8fCBbXSkuZm9yRWFjaChnID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgZyA9PT0gJ3N0cmluZycgPyBnLnJlcGxhY2UoL15cXC8vLCAnJykgOiBTdHJpbmcoZyk7XG4gICAgICBwdXNoKGBncm91cDoke25hbWV9YCwgYEdydXBvOiAke25hbWV9YCk7XG4gICAgfSk7XG5cbiAgICAvLyBQZXJmaWxlcyByZWNpZW50ZXM6IGV2aXRhciBkdXBsaWNhZG9zIHkgZGVzY2FydGFyIHVzZXI6KiBkZSBvdHJvcyB1c3Vhcmlvc1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYXcgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudCcpIDogbnVsbDtcbiAgICAgIGNvbnN0IGFycjogc3RyaW5nW10gPSByYXcgPyBKU09OLnBhcnNlKHJhdykgOiBbXTtcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VyS2V5ID0gbWU/LnN1YiA/IGB1c2VyOiR7bWUuc3VifWAgOiBudWxsO1xuICAgICAgYXJyLmZvckVhY2goayA9PiB7XG4gICAgICAgIGlmICghaykgcmV0dXJuO1xuICAgICAgICAvLyBEbyBub3Qgc2hvdyBvdGhlciB1c2VycycgcGVyc29uYWwga2V5cyBhcyAnUGVyc29uYWwnXG4gICAgICAgIGlmIChrLnN0YXJ0c1dpdGgoJ3VzZXI6JykgJiYgayAhPT0gY3VycmVudFVzZXJLZXkpIHtcbiAgICAgICAgICBjb25zdCBmcmllbmRseSA9IGxhYmVsc1trXSA/IGBVc3VhcmlvOiAke2xhYmVsc1trXX1gIDogYFVzdWFyaW86ICR7ay5zbGljZSg1LCAxMyl9YDtcbiAgICAgICAgICBwdXNoKGssIGZyaWVuZGx5KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhYmVsID0gaztcbiAgICAgICAgaWYgKGsuc3RhcnRzV2l0aCgnZ3JvdXA6JykpIGxhYmVsID0gYEdydXBvOiAke2suc2xpY2UoNil9YDtcbiAgICAgICAgZWxzZSBpZiAoay5zdGFydHNXaXRoKCd1c2VyOicpKSBsYWJlbCA9ICdQZXJzb25hbCc7XG4gICAgICAgIHB1c2goaywgbGFiZWwpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCB7fVxuXG4gICAgaWYgKG9wdHMubGVuZ3RoID09PSAwKSBwdXNoKCdkZWZhdWx0JywgJ1NpbiBzZXNpw7NuJyk7XG4gICAgaWYgKHNjb3BlICYmICFzZWVuLmhhcyhzY29wZSkpIG9wdHMudW5zaGlmdCh7IHZhbHVlOiBzY29wZSwgbGFiZWw6IHNjb3BlIH0pO1xuICAgIHJldHVybiBvcHRzO1xuICB9LCBbbWUsIHNjb3BlLCBsYWJlbHNdKTtcbiAgY29uc3QgaXNBZG1pbiA9IGFkbWluO1xuXG4gIGNvbnN0IHNoYXJlVXJsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gJyc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgaWYgKHNjb3BlKSB1cmwuc2VhcmNoUGFyYW1zLnNldCgncHJvZmlsZScsIHNjb3BlKTtcbiAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH0sIFtzY29wZV0pO1xuXG4gIGNvbnN0IHNoYXJlU3VtbWFyeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2NvcGUpIHJldHVybiBudWxsO1xuICAgIGlmIChzY29wZS5zdGFydHNXaXRoKCd1c2VyOicpKSB7XG4gICAgICBjb25zdCBpZCA9IHNjb3BlLnNsaWNlKDUpO1xuICAgICAgY29uc3QgaHVtYW4gPSBsYWJlbHNbc2NvcGVdO1xuICAgICAgY29uc3QgaXNTZWxmID0gISEobWU/LnN1YiAmJiBpZCA9PT0gbWUuc3ViKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhZGdlOiAnVXN1YXJpbycsXG4gICAgICAgIGJhZGdlQ2xhc3M6ICdiYWRnZS11c2VyJyxcbiAgICAgICAgdGl0bGU6IGlzU2VsZiA/IChtZT8ubmFtZSB8fCBtZT8uZW1haWwgfHwgJ1R1IHBlcmZpbCcpIDogKGh1bWFuIHx8IGBJRCAke2lkfWApLFxuICAgICAgICBzdWJ0aXRsZTogYElEICR7aWR9YCxcbiAgICAgICAgbm90ZTogaXNTZWxmID8gJ1R1IGVzcGFjaW8gcGVyc29uYWwgc2luY3Jvbml6YWRvLicgOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNjb3BlLnN0YXJ0c1dpdGgoJ2dyb3VwOicpKSB7XG4gICAgICBjb25zdCBpZCA9IHNjb3BlLnNsaWNlKDYpO1xuICAgICAgY29uc3QgaHVtYW4gPSBsYWJlbHNbc2NvcGVdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFkZ2U6ICdHcnVwbycsXG4gICAgICAgIGJhZGdlQ2xhc3M6ICdiYWRnZS1ncm91cCcsXG4gICAgICAgIHRpdGxlOiBodW1hbiB8fCBpZCxcbiAgICAgICAgc3VidGl0bGU6IGh1bWFuID8gYElEICR7aWR9YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgbm90ZTogJ0NvbXBhcnRlIGVsIGVubGFjZSB5IGHDsWFkZSBwZXJzb25hcyBhbCBncnVwbyBkZXNkZSBsYSBwZXN0YcOxYSBJZGVudGlkYWQuJyxcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoc2NvcGUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFkZ2U6ICdHZW5lcmFsJyxcbiAgICAgICAgYmFkZ2VDbGFzczogJ2JhZGdlLWRlZmF1bHQnLFxuICAgICAgICB0aXRsZTogJ1BlcmZpbCBzaW4gc2VzacOzbicsXG4gICAgICAgIG5vdGU6ICdDcmVhIHVuIHBlcmZpbCBjb24gdHUgdXN1YXJpbyBvIGdydXBvIHBhcmEgY29tcGFydGlyIGNhbWJpb3MgY29uIHR1IGVxdWlwby4nLFxuICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNjb3BlLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgIGNvbnN0IFtwcmVmaXgsIHJlc3RdID0gc2NvcGUuc3BsaXQoJzonLCAyKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhZGdlOiBwcmVmaXggPyBwcmVmaXgudG9VcHBlckNhc2UoKSA6ICdQZXJmaWwnLFxuICAgICAgICBiYWRnZUNsYXNzOiAnYmFkZ2Utc2hhcmVkJyxcbiAgICAgICAgdGl0bGU6IHJlc3QgfHwgc2NvcGUsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhZGdlOiAnUGVyZmlsJyxcbiAgICAgIGJhZGdlQ2xhc3M6ICdiYWRnZS1zaGFyZWQnLFxuICAgICAgdGl0bGU6IHNjb3BlLFxuICAgICAgZGlzYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgfSwgW3Njb3BlLCBsYWJlbHMsIG1lPy5lbWFpbCwgbWU/Lm5hbWUsIG1lPy5zdWJdKTtcblxuICBjb25zdCBzaGFyZURpc2FibGVkID0gISFzaGFyZVN1bW1hcnk/LmRpc2FibGVkO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtZT8uYXV0aGVudGljYXRlZCkgeyBzZXRBZG1pbihmYWxzZSk7IHJldHVybjsgfVxuICAgIC8vIEZpcnN0LCBkZWNpZGUgdmlhIHRva2VuIGdyb3VwcyBpZiBwcmVzZW50XG4gICAgY29uc3QgdG9rZW5BZG1pbiA9IGlzQWRtaW5Hcm91cChtZS5ncm91cHMpO1xuICAgIHNldEFkbWluKHRva2VuQWRtaW4pO1xuICAgIC8vIEZhbGxiYWNrIHByb2JlOiBpZiBub3QgZGV0ZWN0ZWQsIHRyeSBjYWxsaW5nIGFuIGFkbWluIEFQSTsgMjAwID0+IGFkbWluXG4gICAgaWYgKCF0b2tlbkFkbWluKSB7XG4gICAgICBmZXRjaCgnL2FwaS9hZG1pbi9rZXlzJywgeyBjYWNoZTogJ25vLXN0b3JlJyB9KVxuICAgICAgICAudGhlbihyID0+IHsgaWYgKHIub2spIHNldEFkbWluKHRydWUpOyB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge30pO1xuICAgIH1cbiAgfSwgW21lXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNoYXJlT3BlbikgcmV0dXJuO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgTm9kZTtcbiAgICAgIGlmIChzaGFyZVBhbmVsUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHRhcmdldCkgfHwgc2hhcmVBbmNob3JSZWYuY3VycmVudD8uY29udGFpbnModGFyZ2V0KSkgcmV0dXJuO1xuICAgICAgc2V0U2hhcmVPcGVuKGZhbHNlKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrKTtcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2spO1xuICB9LCBbc2hhcmVPcGVuXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFjdGlvbnNPcGVuKSByZXR1cm47XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBOb2RlO1xuICAgICAgaWYgKGFjdGlvbnNQYW5lbFJlZi5jdXJyZW50Py5jb250YWlucyh0YXJnZXQpIHx8IGFjdGlvbnNBbmNob3JSZWYuY3VycmVudD8uY29udGFpbnModGFyZ2V0KSkgcmV0dXJuO1xuICAgICAgc2V0QWN0aW9uc09wZW4oZmFsc2UpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2spO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGljayk7XG4gIH0sIFthY3Rpb25zT3Blbl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2hhcmVPcGVuKGZhbHNlKTtcbiAgICBzZXRDb3BpZWQoZmFsc2UpO1xuICB9LCBbc2NvcGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2hhcmVPcGVuKSBzZXRDb3BpZWQoZmFsc2UpO1xuICB9LCBbc2hhcmVPcGVuXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzaGFyZU9wZW4pIHJldHVybjtcbiAgICBzZXRBY3Rpb25zT3BlbihmYWxzZSk7XG4gIH0sIFtzaGFyZU9wZW5dKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhciB0b29sYmFyLW1vZGVyblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWdyaWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXJvdyB0b29sYmFyLXJvdy1tYWluXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwic2VhcmNoXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJ1c2Nhci4uLlwiXG4gICAgICAgICAgICB2YWx1ZT17c3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0U2VhcmNoKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHJpbWFyeS1idG4gdG9vbGJhci1lZGl0ICR7c3RhdGUuZWRpdE1vZGUgPyAnaXMtYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0TW9kZSghc3RhdGUuZWRpdE1vZGUpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzdGF0ZS5lZGl0TW9kZSA/IFwiU2FsaXIgZWRpY2nDs25cIiA6IFwiRWRpdGFyXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1yb3cgdG9vbGJhci1yb3ctcHJvZmlsZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1zZWN0aW9uXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlBlcmZpbFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPlBlcmZpbDwvc3Bhbj5cbiAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2NvcGV9IG9uVmFsdWVDaGFuZ2U9eyh2KSA9PiB7IHNldFNjb3BlKHYpOyBzZXRQZXJzaXN0S2V5KHYpOyB9fSBkaXNwbGF5TGFiZWw9eygoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZSkgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgIGlmIChtZT8uc3ViICYmIHNjb3BlID09PSBgdXNlcjoke21lLnN1Yn1gKSByZXR1cm4gJ1BlcnNvbmFsJztcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc3RhcnRzV2l0aCgnZ3JvdXA6JykpIHJldHVybiBgR3J1cG86ICR7c2NvcGUuc2xpY2UoNil9YDtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc3RhcnRzV2l0aCgndXNlcjonKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhYmVsc1tzY29wZV07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZSA/IGBVc3VhcmlvOiAke25hbWV9YCA6IGBVc3VhcmlvOiAke3Njb3BlLnNsaWNlKDUsIDEzKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgICAgICAgICAgIH0pKCl9PlxuICAgICAgICAgICAgICAgIHtzY29wZU9wdGlvbnMubWFwKG8gPT4gKFxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtvLnZhbHVlfSB2YWx1ZT17by52YWx1ZX0+e28ubGFiZWx9PC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2hpcFwiIHRpdGxlPXttZT8uZW1haWwgfHwgbWU/Lm5hbWUgfHwgbWU/LnN1YiB8fCAnJ30gYXJpYS1sYWJlbD1cIlVzdWFyaW8gYWN0dWFsXCI+XG4gICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IC45IH19PvCfkaQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPnttZT8ubmFtZSB8fCBtZT8uZW1haWwgfHwgKG1lPy5zdWIgPyBtZS5zdWIgOiAnSW52aXRhZG8nKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1zZWN0aW9uIGFjdGlvbnMtc2VjdGlvblwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJBY2Npb25lcyBkZSBwZXJmaWxcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRvb2xiYXItYWN0aW9uLXRvZ2dsZSAke2FjdGlvbnNPcGVuID8gJ2lzLW9wZW4nIDogJyd9YH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aW9uc09wZW4odiA9PiAhdil9XG4gICAgICAgICAgICAgIHJlZj17YWN0aW9uc0FuY2hvclJlZn1cbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cIm1lbnVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXthY3Rpb25zT3Blbn1cbiAgICAgICAgICAgICAgYXJpYS1jb250cm9scz1cInRvb2xiYXItYWN0aW9ucy1tZW51XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2FjdGlvbnNPcGVuID8gJ0NlcnJhcicgOiAnQWNjaW9uZXMnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7YWN0aW9uc09wZW4gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGlkPVwidG9vbGJhci1hY3Rpb25zLW1lbnVcIiBjbGFzc05hbWU9XCJ0b29sYmFyLWFjdGlvbi1tZW51XCIgcmVmPXthY3Rpb25zUGFuZWxSZWZ9IHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhY3Rpb24tbWVudS1pdGVtXCJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldE5ld1Byb2ZpbGUoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldE5ld1Byb2ZpbGVPcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpb25zT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPuKelTwvc3Bhbj4gTnVldm8gcGVyZmlsXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhY3Rpb24tbWVudS1pdGVtXCJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvc3RhdGU/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNjb3BlKX1gLCB7IG1ldGhvZDogXCJQVVRcIiwgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LCBib2R5OiBKU09OLnN0cmluZ2lmeShzdGF0ZSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdQZXJmaWwgZ3VhcmRhZG8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ0Vycm9yIGFsIGd1YXJkYXInLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpb25zT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPvCfkr48L3NwYW4+IEd1YXJkYXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjdGlvbi1tZW51LWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgcm9sZT1cIm1lbnVpdGVtXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzaGFyZURpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTaGFyZU9wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGlvbnNPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+8J+Ulzwvc3Bhbj4gQ29tcGFydGlyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhY3Rpb24tbWVudS1pdGVtXCJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkSlNPTihcImRhc2hib2FyZC5qc29uXCIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdFeHBvcnRhZG8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpb25zT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPuKkkzwvc3Bhbj4gRXhwb3J0YXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjdGlvbi1tZW51LWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgcm9sZT1cIm1lbnVpdGVtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZVJlZi5jdXJyZW50Py5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3Rpb25zT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPuKktDwvc3Bhbj4gSW1wb3J0YXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjdGlvbi1tZW51LWl0ZW0gZGFuZ2VyXCJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNjb3BlIHx8IHNjb3BlID09PSAnZGVmYXVsdCd9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2NvcGUgfHwgc2NvcGUgPT09ICdkZWZhdWx0JykgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBodW1hbiA9ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG1lPy5zdWIgJiYgc2NvcGUgPT09IGB1c2VyOiR7bWUuc3VifWApIHJldHVybiAndHUgcGVyZmlsIFBlcnNvbmFsJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc3RhcnRzV2l0aCgnZ3JvdXA6JykpIHJldHVybiBgcGVyZmlsIGRlIEdydXBvOiAke3Njb3BlLnNsaWNlKDYpfWA7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnN0YXJ0c1dpdGgoJ3VzZXI6JykpIHJldHVybiBgcGVyZmlsIGRlIFVzdWFyaW86ICR7bGFiZWxzW3Njb3BlXSB8fCBzY29wZS5zbGljZSg1LDEzKX1gO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2sgPSBhd2FpdCBjb25maXJtKHsgdGl0bGU6ICdFbGltaW5hciBwZXJmaWwnLCBtZXNzYWdlOiBgwr9FbGltaW5hciAke2h1bWFufT9gIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvc3RhdGU/a2V5PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNjb3BlKX1gLCB7IG1ldGhvZDogJ0RFTEVURScgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFycjogc3RyaW5nW10gPSByYXcgPyBKU09OLnBhcnNlKHJhdykgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGFyci5maWx0ZXIoayA9PiBrICE9PSBzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJzaXN0X3Byb2ZpbGVzX3JlY2VudCcsIEpTT04uc3RyaW5naWZ5KG5leHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjZW50KG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lPy5zdWIpIHsgY29uc3QgdiA9IGB1c2VyOiR7bWUuc3VifWA7IHNldFNjb3BlKHYpOyBzZXRQZXJzaXN0S2V5KHYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ1BlcmZpbCBlbGltaW5hZG8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVyc2lzdF9wcm9maWxlc19yZWNlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyOiBzdHJpbmdbXSA9IHJhdyA/IEpTT04ucGFyc2UocmF3KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYXJyLmZpbHRlcihrID0+IGsgIT09IHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlcnNpc3RfcHJvZmlsZXNfcmVjZW50JywgSlNPTi5zdHJpbmdpZnkobmV4dCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWNlbnQobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZT8uc3ViKSB7IGNvbnN0IHYgPSBgdXNlcjoke21lLnN1Yn1gOyBzZXRTY29wZSh2KTsgc2V0UGVyc2lzdEtleSh2KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ1F1aXRhZG8gZGUgdHVzIHBlcmZpbGVzJywgJ2luZm8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggeyBzaG93VG9hc3QoJ05vIHNlIHB1ZG8gZWxpbWluYXInLCAnZXJyb3InKTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7IHNob3dUb2FzdCgnTm8gc2UgcHVkbyBlbGltaW5hcicsICdlcnJvcicpOyB9XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGlvbnNPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+8J+Xke+4jzwvc3Bhbj4gRWxpbWluYXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7c3RhdGUuZWRpdE1vZGUgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1yb3cgdG9vbGJhci1yb3ctZWRpdFwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJPcGNpb25lcyBkZSBlZGljacOzblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2wgc2xpZGVyLWNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPkNvbHVtbmFzPC9zcGFuPlxuICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwY3QgPSAoKHN0YXRlLmNvbHVtbnMgLSAyKSAvICg2IC0gMikpICogMTAwO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPXsyfVxuICAgICAgICAgICAgICAgICAgICBtYXg9ezZ9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdGF0ZS5jb2x1bW5zfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvbHVtbnMocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgW1wiLS1yYW5nZS1wY3RcIiBhcyBhbnldOiBgJHtwY3R9JWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgPHNwYW4+e3N0YXRlLmNvbHVtbnN9PC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sIHNlbGVjdC1jb250cm9sXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIlZpc3RhXCI+XG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3N0YXRlLnZpZXdNb2RlfSBvblZhbHVlQ2hhbmdlPXsodikgPT4gc2V0Vmlld01vZGUodiBhcyBhbnkpfT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImdyb3VwZWRcIj5BZ3J1cGFkbzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImFsbFwiPlRvZG9zPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwibGlzdFwiPkxpc3RhPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiY29udHJvbCB0b2dnbGUtY29udHJvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbC10ZXh0XCI+U29sbyBmYXZvcml0b3M8L3NwYW4+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17ISFmaWx0ZXJzLmZhdm9yaXRlc09ubHl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpbXBvcnRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7IC4uLmZpbHRlcnMsIGZhdm9yaXRlc09ubHk6IGUudGFyZ2V0LmNoZWNrZWQgfSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtzaGFyZU9wZW4gJiYgKFxuICAgICAgICA8ZGl2IHJlZj17c2hhcmVQYW5lbFJlZn0gY2xhc3NOYW1lPVwic2hhcmUtcGFuZWxcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1sYWJlbD1cIk9wY2lvbmVzIHBhcmEgY29tcGFydGlyIGVsIHBlcmZpbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhcmUtcGFuZWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYXJlLXBhbmVsLXRpdGxlXCI+Q29tcGFydGlyIHBlcmZpbDwvZGl2PlxuICAgICAgICAgICAgICB7c2hhcmVTdW1tYXJ5ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYXJlLXBhbmVsLW1ldGFcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGJhZGdlICR7c2hhcmVTdW1tYXJ5LmJhZGdlQ2xhc3N9YH0+e3NoYXJlU3VtbWFyeS5iYWRnZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj57c2hhcmVTdW1tYXJ5LnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3NoYXJlU3VtbWFyeT8uc3VidGl0bGUgJiYgPHAgY2xhc3NOYW1lPVwic2hhcmUtcGFuZWwtbm90ZVwiPntzaGFyZVN1bW1hcnkuc3VidGl0bGV9PC9wPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiaWNvbi1idG5cIiBhcmlhLWxhYmVsPVwiQ2VycmFyIHBhbmVsIGRlIGNvbXBhcnRpclwiIG9uQ2xpY2s9eygpID0+IHNldFNoYXJlT3BlbihmYWxzZSl9PuKclTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNoYXJlLXBhbmVsLXRleHRcIj57c2hhcmVEaXNhYmxlZCA/ICdDcmVhIHVuIHBlcmZpbCBjb24gdHUgdXN1YXJpbyBvIGdydXBvIHBhcmEgY29tcGFydGlyIGNhbWJpb3MgY29uIHR1IGVxdWlwby4nIDogJ0NvbXBhcnRlIGVzdGUgZW5sYWNlIHBhcmEgcXVlIG90cmEgcGVyc29uYSBjYXJndWUgZXhhY3RhbWVudGUgZXN0ZSB0YWJsZXJvLid9PC9wPlxuICAgICAgICAgIHtzaGFyZVN1bW1hcnk/Lm5vdGUgJiYgPHAgY2xhc3NOYW1lPVwic2hhcmUtcGFuZWwtbm90ZVwiPntzaGFyZVN1bW1hcnkubm90ZX08L3A+fVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhcmUtbGluay1yb3dcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICByZWY9e3NoYXJlSW5wdXRSZWZ9XG4gICAgICAgICAgICAgIHZhbHVlPXtzaGFyZVVybH1cbiAgICAgICAgICAgICAgcmVhZE9ubHlcbiAgICAgICAgICAgICAgb25Gb2N1cz17ZSA9PiBlLmN1cnJlbnRUYXJnZXQuc2VsZWN0KCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNoYXJlVXJsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHNoYXJlVXJsKTtcbiAgICAgICAgICAgICAgICAgIHNldENvcGllZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgnRW5sYWNlIGNvcGlhZG8nLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAxODAwKTtcbiAgICAgICAgICAgICAgICAgIHNoYXJlSW5wdXRSZWYuY3VycmVudD8uc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ05vIHNlIHB1ZG8gY29waWFyJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Y29waWVkID8gJ0NvcGlhZG8nIDogJ0NvcGlhciBlbmxhY2UnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7Y2FuTmF0aXZlU2hhcmUgJiYgIXNoYXJlRGlzYWJsZWQgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFzaGFyZVVybCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgKG5hdmlnYXRvciBhcyBhbnkpLnNoYXJlKHsgdGl0bGU6ICdEYXNoYm9hcmQnLCB1cmw6IHNoYXJlVXJsIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGlnbm9yZSAqL1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb21wYXJ0aXLigKZcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHshc2hhcmVEaXNhYmxlZCAmJiAoXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic2hhcmUtdGlwc1wiPlxuICAgICAgICAgICAgICA8bGk+TG9zIGNhbWJpb3Mgc2UgZ3VhcmRhbiBhdXRvbcOhdGljYW1lbnRlIHBhcmEgY3VhbHF1aWVyYSBxdWUgdXNlIGVzdGUgcGVyZmlsLjwvbGk+XG4gICAgICAgICAgICAgIDxsaT5TaSBlcyB1biA8c3Ryb25nPmdyb3VwOjwvc3Ryb25nPiBhw7FhZGUgcGVyc29uYXMgZGVzZGUgbGEgcGVzdGHDsWEgSWRlbnRpZGFkLjwvbGk+XG4gICAgICAgICAgICAgIDxsaT5Db21wYXJ0ZSBzb2xvIGNvbiBwZXJzb25hcyBkZSBjb25maWFuemE7IHBvZHLDoW4gZWRpdGFyIGVzdGUgdGFibGVyby48L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHtuZXdQcm9maWxlT3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1yb3cgcHJvZmlsZS1uZXdcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpbGUtaWNvbi1pbnB1dFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInAuZWouIHRlYW06bWFya2V0aW5nIG8gdXNlcjptaS1pZFwiXG4gICAgICAgICAgICB2YWx1ZT17bmV3UHJvZmlsZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5ld1Byb2ZpbGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLW5ldy1hY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByaW1hcnktYnRuXCJcbiAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGsgPSBuZXdQcm9maWxlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoIWspIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZXRQZXJzaXN0S2V5KGspO1xuICAgICAgICAgICAgICAgIHNldFNjb3BlKGspO1xuICAgICAgICAgICAgICAgIHRyeSB7IGF3YWl0IGZldGNoKGAvYXBpL3N0YXRlP2tleT0ke2VuY29kZVVSSUNvbXBvbmVudChrKX1gLCB7IG1ldGhvZDogXCJQVVRcIiwgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LCBib2R5OiBKU09OLnN0cmluZ2lmeShzdGF0ZSkgfSk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgICAgICBzZXROZXdQcm9maWxlKFwiXCIpOyBzZXROZXdQcm9maWxlT3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicGVyc2lzdF9wcm9maWxlc19yZWNlbnRcIik7XG4gICAgICAgICAgICAgICAgICBzZXRSZWNlbnQocmF3ID8gKEpTT04ucGFyc2UocmF3KSBhcyBzdHJpbmdbXSkgOiBbXSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDcmVhciB5IGFwbGljYXJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2V0TmV3UHJvZmlsZU9wZW4oZmFsc2UpfT5DYW5jZWxhcjwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQZXJmaWxlcyByZWNpZW50ZXM6IG1vdmVyIGEgYXZhbnphZG8gcGFyYSBjb21wYWN0YXIgKi99XG5cbiAgICAgIHsvKiBTbWFsbCBzY3JlZW5zOiB0b2dnbGUgdG8gc2hvdyBhZHZhbmNlZCBjb250cm9scyAqL31cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cInNlY29uZGFyeS1idG4gbW9yZS1idG5cIlxuICAgICAgICBhcmlhLWV4cGFuZGVkPXttb3JlT3Blbn1cbiAgICAgICAgYXJpYS1jb250cm9scz1cInRvb2xiYXItYWR2YW5jZWRcIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNb3JlT3Blbih2ID0+ICF2KX1cbiAgICAgID5cbiAgICAgICAge21vcmVPcGVuID8gXCJDZXJyYXJcIiA6IFwiTcOhcyBvcGNpb25lc1wifVxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiBBZHZhbmNlZCBjb250cm9sczogbWVub3MgZnJlY3VlbnRlcyAqL31cbiAgICAgIDxkaXYgaWQ9XCJ0b29sYmFyLWFkdmFuY2VkXCIgY2xhc3NOYW1lPXtgdG9vbGJhci1hZHZhbmNlZCAke21vcmVPcGVuID8gXCJpcy1vcGVuXCIgOiBcIlwifWB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItcm93IHRvb2xiYXItcm93LWFkdmFuY2VkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkVzdGlsb1wiPlxuICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c3RhdGUudGlsZVN0eWxlfSBvblZhbHVlQ2hhbmdlPXsodikgPT4gc2V0VGlsZVN0eWxlKHYgYXMgYW55KX0+XG4gICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiY296eVwiPkPDs21vZG88L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiY29tcGFjdFwiPkNvbXBhY3RvPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2xcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiVGVtYVwiPlxuICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c3RhdGUudGhlbWV9IG9uVmFsdWVDaGFuZ2U9eyh2KSA9PiBzZXRUaGVtZSh2IGFzIGFueSl9PlxuICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInN5c3RlbVwiPlNpc3RlbWE8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwibGlnaHRcIj5DbGFybzwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJkYXJrXCI+T3NjdXJvPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7bWU/LmF1dGhlbnRpY2F0ZWQgPyAoXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgb25DbGljaz17KCkgPT4gc2lnbk91dCh7IGNhbGxiYWNrVXJsOiBcIi9cIiB9KX0+U2FsaXI8L2J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwic2Vjb25kYXJ5LWJ0blwiIG9uQ2xpY2s9eygpID0+IHNpZ25JbigpfT5FbnRyYXI8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtpc0FkbWluICYmICg8YSBjbGFzc05hbWU9XCJzZWNvbmRhcnktYnRuXCIgaHJlZj1cIi9hZG1pblwiIHN0eWxlPXt7IHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIiwgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiIH19PkFkbWluPC9hPil9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxpbnB1dFxuICAgICAgICByZWY9e2ZpbGVSZWZ9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgYWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19XG4gICAgICAgIG9uQ2hhbmdlPXthc3luYyAoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGYgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgICAgICAgIGlmICghZikgcmV0dXJuO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhYiA9IGF3YWl0IGYuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9lbmNvZGluZy9jb252ZXJ0XCIsIHsgbWV0aG9kOiBcIlBPU1RcIiwgYm9keTogYWIgfSk7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2UgcHVkbyBjb252ZXJ0aXIgZWwgYXJjaGl2b1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhKSB7IGltcG9ydFN0YXRlKGRhdGEpOyBzaG93VG9hc3QoJ0ltcG9ydGFkbycpOyB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaG93VG9hc3QoXCJBcmNoaXZvIGludsOhbGlkb1wiKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZURhc2hib2FyZCIsImRvd25sb2FkSlNPTiIsIlNlbGVjdCIsIlNlbGVjdEl0ZW0iLCJzaWduSW4iLCJzaWduT3V0IiwidXNlVG9hc3QiLCJ1c2VEaWFsb2ciLCJpc0FkbWluR3JvdXAiLCJUb29sYmFyIiwic3RhdGUiLCJzZXRUaGVtZSIsInNldENvbHVtbnMiLCJzZXRUaWxlU3R5bGUiLCJzZXRTZWFyY2giLCJzZXRFZGl0TW9kZSIsInNldFZpZXdNb2RlIiwiaW1wb3J0U3RhdGUiLCJzZXRQZXJzaXN0S2V5IiwiZmlsdGVycyIsImZpbGVSZWYiLCJtZSIsInNldE1lIiwic2NvcGUiLCJzZXRTY29wZSIsIm1vcmVPcGVuIiwic2V0TW9yZU9wZW4iLCJuZXdQcm9maWxlT3BlbiIsInNldE5ld1Byb2ZpbGVPcGVuIiwibmV3UHJvZmlsZSIsInNldE5ld1Byb2ZpbGUiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJzaGFyZU9wZW4iLCJzZXRTaGFyZU9wZW4iLCJjYW5OYXRpdmVTaGFyZSIsInNldENhbk5hdGl2ZVNoYXJlIiwicmVjZW50Iiwic2V0UmVjZW50IiwibGFiZWxzIiwic2V0TGFiZWxzIiwiYWRtaW4iLCJzZXRBZG1pbiIsInNob3dUb2FzdCIsImNvbmZpcm0iLCJzaGFyZUFuY2hvclJlZiIsInNoYXJlUGFuZWxSZWYiLCJzaGFyZUlucHV0UmVmIiwiYWN0aW9uc0FuY2hvclJlZiIsImFjdGlvbnNQYW5lbFJlZiIsImFjdGlvbnNPcGVuIiwic2V0QWN0aW9uc09wZW4iLCJyZXMiLCJmZXRjaCIsImNhY2hlIiwib2siLCJkYXRhIiwianNvbiIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkZWZhdWx0S2V5Iiwic3ViIiwia2V5IiwicmF3IiwiSlNPTiIsInBhcnNlIiwibGFiZWxzUmF3IiwibmF2aWdhdG9yIiwic2hhcmUiLCJ3aW5kb3ciLCJhcnIiLCJrZXlzIiwiU2V0IiwidXNlcktleUZvck1lIiwidG9SZXNvbHZlIiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwiayIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsInIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ1bmRlZmluZWQiLCJsYWJlbCIsImZvckVhY2giLCJ2Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNjb3BlT3B0aW9ucyIsIm9wdHMiLCJzZWVuIiwicHVzaCIsImwiLCJoYXMiLCJ2YWx1ZSIsImFkZCIsImdyb3VwcyIsImciLCJuYW1lIiwicmVwbGFjZSIsIlN0cmluZyIsImN1cnJlbnRVc2VyS2V5IiwiZnJpZW5kbHkiLCJzbGljZSIsInVuc2hpZnQiLCJpc0FkbWluIiwic2hhcmVVcmwiLCJ1cmwiLCJVUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJ0b1N0cmluZyIsInNoYXJlU3VtbWFyeSIsImlkIiwiaHVtYW4iLCJpc1NlbGYiLCJiYWRnZSIsImJhZGdlQ2xhc3MiLCJ0aXRsZSIsImVtYWlsIiwic3VidGl0bGUiLCJub3RlIiwiZGlzYWJsZWQiLCJpbmNsdWRlcyIsInByZWZpeCIsInJlc3QiLCJzcGxpdCIsInRvVXBwZXJDYXNlIiwic2hhcmVEaXNhYmxlZCIsImF1dGhlbnRpY2F0ZWQiLCJ0b2tlbkFkbWluIiwidGhlbiIsImNhdGNoIiwiaGFuZGxlQ2xpY2siLCJldmVudCIsInRhcmdldCIsImN1cnJlbnQiLCJjb250YWlucyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJpbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInNlYXJjaCIsIm9uQ2hhbmdlIiwiZSIsImJ1dHRvbiIsImVkaXRNb2RlIiwib25DbGljayIsInJvbGUiLCJhcmlhLWxhYmVsIiwic3BhbiIsIm9uVmFsdWVDaGFuZ2UiLCJkaXNwbGF5TGFiZWwiLCJvIiwic3R5bGUiLCJvcGFjaXR5IiwicmVmIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWNvbnRyb2xzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJjbGljayIsIm1lc3NhZ2UiLCJuZXh0IiwicGN0IiwiY29sdW1ucyIsIm1pbiIsIm1heCIsInBhcnNlSW50Iiwidmlld01vZGUiLCJjaGVja2VkIiwiZmF2b3JpdGVzT25seSIsInAiLCJyZWFkT25seSIsIm9uRm9jdXMiLCJjdXJyZW50VGFyZ2V0Iiwic2VsZWN0IiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2V0VGltZW91dCIsInVsIiwibGkiLCJzdHJvbmciLCJ0cmltIiwidGlsZVN0eWxlIiwidGhlbWUiLCJjYWxsYmFja1VybCIsImEiLCJ0ZXh0RGVjb3JhdGlvbiIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiYWNjZXB0IiwiZiIsImZpbGVzIiwiYWIiLCJhcnJheUJ1ZmZlciIsIkVycm9yIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Toolbar.tsx\n"));

/***/ })

});